{"version":3,"sources":["components/Store/Types/index.tsx","components/Store/Context.ts","utils/isProd.ts","utils/API.ts","utils/contentful.tsx","utils/isValidDateString.ts","components/Store/parseData.ts","components/Store/Provider.tsx","components/Store/locale/defaultMessages.tsx","utils/flatten.ts","components/Store/locale/index.ts","components/Store/locale/arrayToLocale.ts","utils/camelize.ts","utils/routeUtils.ts","components/Helmet.tsx","utils/addNewLines.tsx","components/FormattedMessage.tsx","styles/img/logo.svg","components/LogoWithText.tsx","components/Link.tsx","styles/img/locale.svg","styles/img/arrow-right.svg","components/buttons.tsx","utils/clip.ts","components/HorizontalShowcase.tsx","components/Header.tsx","components/Img.tsx","components/Footer.tsx","utils/encodeUrlParams.ts","components/CuratorsAvatars.tsx","components/Views/Cards/SpektCard.tsx","components/FestivalPass/Home.tsx","utils/copyToClipboard.ts","components/FestivalPass/Spekt.tsx","components/FestivalPass/Schedule.tsx","utils/validateEmail.ts","components/Subscribe.tsx","components/Laba.tsx","components/KeyVisual.tsx","components/Sponsors.tsx","pages/Home.tsx","utils/validatePhone.ts","pages/Login.tsx","pages/User/Admin/index.tsx","utils/getRandom.ts","components/Views/Cards/ShowCard.tsx","components/Views/ShowPage.tsx","pages/User/Tickets.tsx","components/DeviceInfo.tsx","pages/User/Settings.tsx","components/DatePicker.tsx","components/RangePicker.tsx","utils/radarioProps.ts","utils/isValidDate.ts","pages/Schedule.tsx","pages/Festival/Projects.tsx","pages/Festival/Reviews.tsx","pages/Festival/About.tsx","styles/img/plus.svg","components/Dropdown.tsx","pages/Festival/QandA.tsx","pages/Festival/Accreditation.tsx","pages/Festival/Archive.tsx","pages/Festival/Contacts.tsx","components/Error404.tsx","pages/Spekt.tsx","components/TextDropdown.tsx","pages/Program/Template.tsx","components/Redirect.tsx","utils/routes.tsx","components/ScrollToTop.tsx","components/Loader.tsx","App.tsx","index.tsx"],"names":["initialState","locale","user","ready","shows","festivals","festivalplayrelations","festivalplayrelationtypes","sponsors","sponsorplayrelations","sponsorplayrelationtypes","persons","personplayrelations","personplayrelationtypes","users","telegramusers","vkusers","instusers","contentfulData","contentful","Context","React","createContext","isProd","process","APIlink","post","path","data","a","axios","createContentfulClient","createClient","space","accessToken","host","parseContentfulItems","items","itemsByType","forEach","item","parsedItem","parseItem","type","hasOwnProperty","push","id","sys","contentType","_","mapValues","fields","field","Array","isArray","map","entry","parseField","nodeType","parseContentfulText","file","document","documentToReactComponents","renderNode","BLOCKS","LIST_ITEM","node","children","className","renderText","text","split","flatMap","i","isValidDateString","string","Number","isNaN","Date","parse","parseMappedDays","spekts","Promise","res","rej","mappedDays","spekt","ticketsAndSchedule","tickets","place","filter","show","datetime","dateObj","format","slice","subHours","link","name","program","offline","online","age","shortDesc","stage","venue","stageEn","venueEn","length","reduce","b","day","Object","keys","sort","dayKey","parseSpekts","some","replaceSpekts","homepages","main","open","educational","parseData","_setState","_this","obj","setState","Provider","state","URLSearchParams","props","location","search","get","cookies","Cookies","initializeCallBacks","componentDidMount","checkUser","loadContentful","sessionToken","deviceInfo","JSON","stringify","deviceDetect","newSessionToken","set","logout","isEmpty","loadContentfulJSON","contentfulDataJSON","callInitializeCallbacks","client","getEntries","limit","updateContentful","update","parsedContentfulData","console","log","date","registerInitializeCallback","fn","setTimeout","callback","stateAndSetters","nonState","setLocale","_locale","toggleLocale","params","append","delete","paramsString","toString","history","openPopup","body","classList","add","closePopup","remove","render","value","Component","withRouter","defaultMessages","AccessPoint","rus","eng","login","Vkontakte","Facebook","Instagram","Youtube","Error404","line1","line2","line3","return","User","pages","Tickets","Admin","Settings","Footer","media","address","disclaimer","Home","keyvisual","dates","subscribe","newsletter","desc","placeholder","submit","submitLoading","submitDone","submitError","festivalPass","1","2","price","buy","Laba","Program","full","more","Main","Open","Educational","Friends","readText","hideText","startAt","Schedule","eventType","download","downloadDesc","cleanFilter","loadPrev","apply","msk","register","nothing","pdfFileName","festivalPassDesc","Festival","About","Projects","Reviews","QandA","Accreditation","details","presskit","Archive","site","booklet","Contacts","Privacy","Details","Volunteers","Login","h2","Spekt","credits","sponsor","howToOnline","howToOffline","instructions","performanceTeam","buyAnchor","showAllShows","FestivalPass","tooltip","noReturns","DatePicker","month","year","isJSON","constructor","messages","result","transform","key","arrayToLocale","flatten","input","forIn","valueValue","valueKey","getMessage","context","camelize","charAt","toUpperCase","getSubLinks","to","toLowerCase","exact","match","pathToIds","sections","section","QandAindex","indexOf","index","pathToId","Helmet","subTitles","pathname","titleText","find","replace","property","content","contextType","addNewLines","includes","paragraph","FormattedMessage","onClick","message","_extends","assign","target","arguments","source","prototype","call","this","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","width","height","rx","fill","d","SvgLogo","_ref","svgRef","title","titleId","viewBox","xmlns","ref","ForwardRef","LogoWithText","activeClassName","style","sameTab","disabled","outerRef","other","e","href","rel","cx","cy","r","stroke","strokeWidth","x1","y1","x2","y2","SvgLocale","x","y","SvgArrowRight","Online","Offline","Age","number","Left","Right","clip","min","max","Math","HorizontalShowcase","scrollWidth","containerWidth","leftPadding","itemWidth","currentScroll","scrollbarWidth","scrollbarLeft","scrollbarCursorStart","scrollbarDragStart","currentlyScrolling","resizeObs","scrollTimeout","scrollRef","createRef","containerRef","scrollbarRef","itemsRefs","arrows","current","addEventListener","handleScroll","ResizeObserver","handleResize","bind","observe","scrollbarClickStart","window","scrollbarClickEnd","scrollbarMouseMove","componentWillUnmount","removeEventListener","parseInt","getComputedStyle","getPropertyValue","clientWidth","scrollLeft","ceil","scrollStop","move","clientX","maxScrollbarLeft","newScrollbarLeft","scroll","itemOffset","offsetLeft","offset","finalPos","startPos","currentFrame","maxFrames","requestAnimationFrame","itemInTheCorner","cornerHandleClick","preventDefault","renderArrows","ItemComp","left","XXL","XL","L","M","S","bottomLink","Link","label","mobileHeaderLinks","Header","opened","scrollingUp","secondaryLinks","secondaryRef","hideSecondaryLinksTimeout","prev","componentDidUpdate","prevProps","updateSecondaryLinks","pathToShow","initHideSecondaryLinksTimeout","breakHideSecondaryLinksTimeout","clearTimeout","currentTarget","scrollY","innerHeight","renderHeader","onMouseEnter","onMouseLeave","renderControls","renderSecondary","renderOpenedMobileHeader","mappedMobileHeaderLinks","Img","portrait","undefined","containerRatio","imgRef","setOrientation","offsetWidth","offsetHeight","alt","fileName","src","url","urlParams","noCrop","onLoad","links","mappedLinks","footer","footers","data-apple-business-id","data-apple-icon-color","data-apple-icon-background-color","data-apple-icon-scale","data-apple-icon-title","covidLink","covidImg","encodeUrlParams","CuratorsAvatars","getSideSize","curators","curator","avatar","w","h","SpektCard","linkDisabled","personsObj","person","surname","maker","avatarsL","avatarsM","avatarsS","cover","elementRef","updateScroll","floor","getBoundingClientRect","bottom","innerWidth","copyToClipboard","str","el","createElement","appendChild","select","execCommand","removeChild","showTooltip","hideTooltipTimeout","validateEmail","email","test","String","Subscribe","buttonStatus","clearFieldsTimeout","person_id","onChange","renderLaba","laba","KeyVisual","blockHeight","randomIndexes","updateContentHeight","clientHeight","renderBlock","imgs","random","img","randomIndex","Sponsors","renderImg","logo","render6","sponsorType","withTitles","page","partnersTitle","sponsorsTypesLines","sponsorTypes","showFestivalPass","friends","showSubscribe","validatePhone","phone","emailPhoneInputString","codeInputString","higlightError","resendCountdown","checkInterval","resendCountdownInterval","checkIfLogged","clearInterval","tries","setInterval","initializeCountdown","loginWithEmailPhone","error","loginWithCode","renderStage0","loginDesc","loginPlaceholder","getPassword","renderStage1","back","getPasswordDesc","codePlaceholder","didntGetPassword","receiveAgain","getAgain","accountPages","asyncWrapper","loading","downloadAll","getRandomValues","object","amount","array","getRandomElements","ShowCard","past","openShow","ru","enUS","showIsOver","ShowPage","myTickets","ticket","ticketNumber","downloadPDF","transferTicket","returnTicket","start","buttonWillBeActive","howToWatch","howToGetHere","bootstrapURLKeys","center","lat","lng","zoom","options","disableDefaultUI","yesIWantToUseGoogleMapApiInternals","currentShow","myEvents","upcoming","isBefore","startOfToday","parseDeviceInfo","osName","osVersion","browserName","browserFullVersion","DeviceInfo","parsedData","createdAt","ruLocale","enLocale","siteSession","session","validateValue","useState","setOpened","inputString","setInputString","presumedDate","setPresumedDate","calendarBodyCurrent","setCalendarBodyCurrent","handleClick","close","useEffect","closeWithoutSelection","dateToInputString","isValidDate","setStateAndPropsDate","inputValue","inputStringToDateReadableString","renderCalendarBody","selectedDateString","currentMonthDayString","currentMonthFirstDate","setDate","currentYear","getFullYear","eachWeekOfInterval","end","addMonths","weekFirstDay","val","thisDay","addDays","isSameDay","isSameMonth","isToday","inputStringToDisplayedDateString","onFocus","subMonths","subYears","addYears","getTime","RangePicker","dateA","dateB","setDateA","setDateB","setCurrentOpened","isAfter","radarioProps","ticketsId","ticketsGroupId","filterInitialState","from","currentFestivalFirstDay","showFilter","showPrev","renderingPDF","pdfRef","toggleAttrib","attrib","savePDF","datesRange","paperSize","renderFilter","capitalize","every","getFilteredDaysAndIndex","indexOfCurrentFestivalFirstDay","localeCompare","filteredDays","fromDate","toDate","isWithinInterval","renderDays","scheduleCust","scheduleCustEn","disclaimerEn","endOfYesterday","buttonNameCust","buttonNameCustEn","renderPDF","position","zIndex","top","backgroundColor","festivalProjectss","title2","desc2","festivalReviewss","previews","organization","lineHeight","archiveTitle","author","aboutPages","images","teamTitle","team","SvgPlus","Dropdown","initialOpen","contentHeight","titleRef","contentRef","toggleOpened","behavior","currentOpened","getCurrentSection","festivalQandAs","currentSectionURL","renderLink","currentSection","accreditations","contactsTitle","contacts","contact","materialsTitle","renderSpekts","renderPrograms","festival","programs","festivalPrograms","programIndex","findIndex","siteLink","bookletLink","mainDesc","facts","fact","contactss","supportTitle","supportPhone","supportEmail","emails","tel","addressTitle","organiserTitle","organiser","scheduleRef","values","videoCover","frameBorder","allowFullScreen","showDiscount","datetimeCust","datetimeCustEn","dateTimeSplitted","dropdown","TextDropdown","contentFullHeight","contentPreviewHeight","contentFullRef","contentPreviewRef","resizeObsFull","resizeObsPreview","updateContentFullHeight","updateContentPreviewHeight","cropChildren","additionalContent","Template","opened2","shortDesc2","curatorTitle","curators2","curatorTitle2","mainDesc2","programId","homepage","text2","Redirect","goBack","routes","Comp","ScrollToTop","scrollTo","Loader","transparent","hidden","hide","App","route","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ce995b1c.chunk.js","sourcesContent":["import {\n  ContentfulItem,\n  File,\n  RichTextNode\n} from './contentfulTypes'\n\n\ninterface Person extends ContentfulItem {\n  id: string\n  link: string\n  name: string\n  surname: string\n  username?: string\n  avatar?: File\n  title?: string\n  email?: string\n  phone?: string\n}\n\ninterface Festival extends ContentfulItem {\n  id: string\n  name: string\n  year: number\n  mainDesc: JSX.Element\n  facts: Fact[]\n  siteLink: string\n  bookletLink: string\n}\n\ninterface Fact extends ContentfulItem {\n  number: string\n  desc: JSX.Element\n}\n\ninterface Spekt extends ContentfulItem {\n  festival: Festival\n  program: Program\n  link: string\n  name: string\n  eventCreators: string\n  shortDesc: string\n  cover: File\n  videoCover: string\n  howToOnline: JSX.Element\n  howToOffline: JSX.Element\n  instructions: JSX.Element\n  persons: string\n  personsObj?: Person[]\n  length?: string\n  age?: string | number\n  online: boolean\n  offline: boolean\n  sponsors: Sponsor[]\n  showDiscount?: boolean\n  credits?: JSX.Element\n\n  ticketsAndSchedule: {\n    tickets: Place[]\n  }\n}\n\ninterface Place extends ContentfulItem {\n  venue: string\n  venueEn: string\n  address: string\n  addressEn: string\n  online: boolean\n  tickets: Show[]\n}\n\ninterface Show extends ContentfulItem {\n  ticketsId?: string\n  ticketsGroupId?: string\n  url?: string\n  \n  online?: boolean | undefined\n  offline?: boolean | undefined\n  soldOut?: boolean\n\n  datetime: string\n  datetimeEnd?: string\n  datetimeCust?: string\n  datetimeCustEn?: string\n\n  scheduleCust?: string\n  scheduleCustEn?: string\n\n  disclaimer?: string\n  disclaimerEn?: string\n\n  buttonNameCust?: string\n  buttonNameCustEn?: string\n}\n\ninterface Program extends ContentfulItem {\n  link: string\n  name: string\n\n  curators?: Person[]\n  curatorTitle?: string\n  mainDesc: React.ReactElement<RichTextNode>[]\n  shortDesc: JSX.Element\n  \n  curators2?: Person[]\n  curatorTitle2?: string\n  mainDesc2?: React.ReactElement<RichTextNode>[]\n  shortDesc2?: JSX.Element\n\n  spekts: Spekt[]\n  ogdescription?: string\n  ogimageVkimage?: string\n}\n\ninterface Sponsor extends ContentfulItem {\n  name: string\n  logo: File[]\n  link?: string\n  title?: string\n}\n\ninterface SponsorType extends ContentfulItem {\n  name: string\n  sponsors: Sponsor[]\n}\n\ninterface SponsorTypeLine extends ContentfulItem {\n  name: string\n  sponsorTypes: SponsorType[]\n  L: boolean\n}\n\ninterface QandAsection extends ContentfulItem {\n  name: string\n  url: string\n  items: QandAitem[]\n}\n\ninterface QandAitem extends ContentfulItem {\n  title: string\n  text: string\n}\n\ninterface Feedback extends ContentfulItem {\n  author: string\n  date: string\n  name: string\n  organization: string\n  url: string\n}\n\ninterface FeedbackPreview extends ContentfulItem {\n  text: string\n  name: string\n  organization: string\n  year: number\n}\n\ninterface MappedShow extends Show {\n  link: string\n  name: string\n  persons: string\n  dateObj: any\n  program: Program | undefined\n  age?: string | number\n  shortDesc?: string\n  stage?: string\n  stageEn?: string\n  length?: string\n}\n\ntype Days = {\n  [key: string]: MappedShow[] | undefined\n}\n\ntype LinkObj = {\n  to: string\n  id: string\n  exact?: boolean\n}\n\n\n\n\ntype StateType = {\n  locale: string\n  user: object\n  ready: boolean\n\n  messages?: object\n  sessionToken?: string\n\n  shows: any[]\n  festivals: any[]\n  festivalplayrelations: any[]\n  festivalplayrelationtypes: any[]\n  sponsors: any[]\n  sponsorplayrelations: any[]\n  sponsorplayrelationtypes: any[]\n  persons: any[]\n  personplayrelations: any[]\n  personplayrelationtypes: any[]\n  users: any[]\n  telegramusers: any[]\n  vkusers: any[]\n  instusers: any[]\n\n  contentfulData: any[]\n  contentful: any\n\n  // initializeCallBacks: Function[]\n}\n\nconst initialState = {\n  locale: \"rus\",\n  user: {},\n  ready: false,\n\n  shows: [],\n  festivals: [],\n  festivalplayrelations: [],\n  festivalplayrelationtypes: [],\n  sponsors: [],\n  sponsorplayrelations: [],\n  sponsorplayrelationtypes: [],\n  persons: [],\n  personplayrelations: [],\n  personplayrelationtypes: [],\n  users: [],\n  telegramusers: [],\n  vkusers: [],\n  instusers: [],\n\n  contentfulData: [],\n  contentful: {},\n\n  // initializeCallBacks: []\n}\n\n\nexport type {\n  Person,\n  Festival,\n  Spekt,\n  Place,\n  Show,\n  Program,\n  Sponsor,\n  SponsorType,\n  SponsorTypeLine,\n  File,\n  QandAsection,\n  QandAitem,\n  Feedback,\n  FeedbackPreview,\n  MappedShow,\n  Days,\n  LinkObj,\n\n  StateType,\n}\n\nexport {\n  initialState,\n}\n","import React from 'react'\n\nimport {\n  StateType,\n  initialState\n} from './Types'\n\n\nconst Context = React.createContext<StateType>(initialState)\n\n\nexport default Context","const isProd = () =>\n  process.env.NODE_ENV === 'production'\n\n\nexport default isProd","import axios from 'axios'\n\nimport isProd from './isProd'\n\n\n// axios.defaults.headers.post['Accept'] = \"*/*\"\n// axios.defaults.headers.post['Content-Type'] = \"json\"\n// axios.defaults.withCredentials = true\n\n\nconst APIlink = () =>\n  isProd() ?\n    \"https://api.tochkadostupa.spb.ru\"\n    :\n    // \"http://localhost:3070\"\n    \"https://api.tochkadostupa.spb.ru\"\n\nconst post = async (path: string, data: any) =>\n  (await axios.post(\n    APIlink() + path,\n    data,\n  )).data\n\nconst get = async (path: string) =>\n  (await axios.get(\n    APIlink() + path,\n  )).data\n\n\nexport {\n  post,\n  get,\n}","import React from 'react'\n\nimport _ from 'lodash'\nimport { createClient } from 'contentful'\nimport { BLOCKS } from '@contentful/rich-text-types'\nimport { documentToReactComponents } from '@contentful/rich-text-react-renderer'\n\n\nconst createContentfulClient = () =>\n  createClient({\n    space: 'ib2cfqvkayep',\n    accessToken: 'wnUB9eqGpeeAGROQfPQpcPjEI_aUajinG38PJsQ-1II',\n    host: 'cdn.contentful.com',\n    // basePath: '/locales'\n  })\n\nconst parseContentfulItems = async (items: any[]) => {\n  let itemsByType: {[key: string]: any} = {};\n\n  items\n    .forEach((item: any) => {\n      const parsedItem: any = parseItem(item)\n      const type = parsedItem.type + 's'\n\n      itemsByType.hasOwnProperty(type) ?\n        itemsByType[type].push(parsedItem)\n        :\n        itemsByType[type] = [parsedItem]\n    })\n\n  return itemsByType\n}\n\nconst parseItem = (item: any) =>\n  ({\n    id: item.sys.id,\n    type: item?.sys?.contentType?.sys?.id,\n    ..._.mapValues(\n      item.fields,\n      field => Array.isArray(field) ?\n        field.map(entry => parseField(entry))\n        :\n        parseField(field)\n    )\n  })\n\nconst parseField = (field: any): string | any => {\n  if (field?.sys?.id)\n    return parseItem(field)\n    \n  switch(field?.nodeType || field?.sys?.type) {\n    case 'document':\n      return parseContentfulText(field)\n    case 'Asset':\n      return field?.fields?.file\n    default:\n      return field\n  }\n}\n\nconst parseContentfulText = (document: any) =>\n  documentToReactComponents(document, {\n    renderNode: {\n      [BLOCKS.LIST_ITEM]: (node, children) => <li className='ml-4'>{children}</li>,\n    },\n    renderText: text => text.split('\\n').flatMap((text, i) => [i > 0 && <br />, text]),\n  })\n\n\nexport {\n  createContentfulClient,\n  parseContentfulItems\n}","const isValidDateString = (string: string) =>\n  !Number.isNaN(Date.parse(string))\n\n\nexport default isValidDateString","import { format } from 'date-fns'\nimport subHours from 'date-fns/subHours'\n\n\nimport {\n  Days,\n  Spekt,\n  Place,\n  Show,\n  MappedShow,\n} from './Types'\nimport isValidDateString from '../../utils/isValidDateString'\n\n\nconst parseMappedDays = async (spekts: Spekt[]) =>\n  new Promise<Days>((res, rej) => {\n    let mappedDays: Days = {}\n\n    spekts\n      ?.map((spekt: Spekt): MappedShow[] | undefined =>\n        spekt?.ticketsAndSchedule?.tickets\n          .map((place: Place): MappedShow[] | undefined =>\n            place?.tickets\n              .filter((show: Show) =>\n                isValidDateString(show.datetime))\n              .map((show: Show): MappedShow => {\n                let datetime = show.datetime\n                let dateObj = new Date(datetime)\n\n                if (format(dateObj, 'HH') !== show.datetime.slice(11, 13)) {\n                  dateObj = subHours(dateObj, 3)\n                  datetime = format(dateObj, 'yyyy-MM-ddTHH:mm')\n                }\n\n                return ({\n                  ...show,\n                  link: spekt.link,\n                  name: spekt.name,\n                  persons: spekt.persons,\n                  datetime: datetime,\n                  dateObj: dateObj,\n                  program: spekt.program,\n                  offline: show.offline || (!show.online && !show.offline),\n                  age: spekt.age,\n                  shortDesc: spekt.shortDesc,\n                  stage: place.venue,\n                  stageEn: place.venueEn,\n                  length: spekt.length,\n                })\n              }))\n          .reduce((a: MappedShow[] | undefined, b: MappedShow[] | undefined): MappedShow[] | undefined =>\n            [...(a || []), ...(b || [])])\n      )\n      ?.reduce((a: MappedShow[] | undefined, b: MappedShow[] | undefined): MappedShow[] | undefined =>\n        [...(a || []), ...(b || [])])\n      ?.filter((show: MappedShow) =>\n        show.datetime.length > 0)\n      ?.forEach((show: MappedShow) => {\n        // const day = show.datetime.split('T')[0]\n        const day = show.datetime.slice(0, 10)\n        \n        mappedDays.hasOwnProperty(day) ?\n          mappedDays[day]?.push(show)\n          :\n          mappedDays[day] = [show]\n      })\n        \n    mappedDays = Object.keys(mappedDays)\n      .sort()\n      .map((dayKey: string): {[key: string]: MappedShow[] | undefined} => ({[dayKey]: mappedDays[dayKey]}))\n      ?.reduce((a, b) => ({...a, ...b}), {})\n\n    res(mappedDays)\n    rej({})\n  })\n\nconst parseSpekts = ((spekts: Spekt[]) =>\n  spekts\n    ?.map((spekt: Spekt) => ({\n      ...spekt,\n      online: spekt.online || spekt.ticketsAndSchedule?.tickets\n        ?.some((stage: Place) =>\n          stage.tickets\n            ?.some((show: Show) => show.online)),\n      offline: spekt.offline || spekt.ticketsAndSchedule?.tickets\n        ?.some((stage: Place) =>\n          stage.tickets\n            ?.some((show: Show) => !show.online)),\n    })\n  ))\n\nconst replaceSpekts = (contentfulData: any) => ({\n  ...contentfulData,\n  spekts: parseSpekts(contentfulData.spekts),\n  homepages: [{\n    ...contentfulData.homepages[0],\n    main: parseSpekts(contentfulData.homepages[0].main),\n    open: parseSpekts(contentfulData.homepages[0].open),\n    educational: parseSpekts(contentfulData.homepages[0].educational),\n  }]\n})\n\nconst parseData = async (contentfulData: any) => ({\n  ...replaceSpekts(contentfulData),\n  mappedDays: await parseMappedDays(contentfulData.spekts),\n})\n\n\nexport default parseData","import React from 'react'\n\nimport axios from 'axios'\nimport _ from 'lodash'\nimport Cookies from 'universal-cookie'\nimport { deviceDetect } from 'react-device-detect'\nimport { withRouter } from 'react-router-dom'\nimport { RouteComponentProps } from 'react-router'\n\nimport {\n  StateType,\n  initialState,\n} from './Types'\nimport Context from './Context'\nimport { post } from '../../utils/API'\nimport {\n  parseContentfulItems,\n  createContentfulClient\n} from '../../utils/contentful'\nimport isProd from '../../utils/isProd'\nimport parseData from './parseData'\nimport contentfulDataJSON from './contentfulData.json'\n\n\ntype Props = RouteComponentProps<{\n  param1: string,\n}>\n\n\nconst _setState = (_this: any, obj: any) => {\n  _this.setState(obj)\n  //TODO send async post\n}\n\n\nclass Provider extends React.Component<Props, StateType> {\n\n  state = {\n    ...initialState,\n    locale: (new URLSearchParams(this.props.location.search)).get('en') === '' ? 'eng' : 'rus'\n  }\n\n  cookies = new Cookies()\n  initializeCallBacks: Function[] = []\n\n  componentDidMount = () => {\n    this.checkUser()\n    this.loadContentful()\n  }\n\n  checkUser = async () => {\n    const res = await post('/', {\n      sessionToken: this.cookies.get('sessionToken'),\n      deviceInfo: JSON.stringify(deviceDetect())\n    })\n\n    if (res.newSessionToken)\n      this.cookies.set('sessionToken', res.newSessionToken, { path: '/' })\n\n    this.setState({\n      sessionToken: this.cookies.get('sessionToken')\n    })\n\n    if (res.hasOwnProperty('user'))\n      this.setState({ user: res.user })\n  }\n\n  logout = async () => {\n    if (_.isEmpty(this.state.user))\n      return\n\n    const res = await post('/logout', {\n      sessionToken: this.cookies.get('sessionToken'),\n      deviceInfo: JSON.stringify(deviceDetect())\n    })\n\n    this.cookies.set('sessionToken', res.newSessionToken, { path: '/' })\n\n    this.setState({\n      sessionToken: this.cookies.get('sessionToken'),\n      user: {}\n    })\n  }\n\n  loadContentfulJSON = async () => {\n    this.setState({ ready: false })\n\n    this.setState({\n      contentfulData: contentfulDataJSON\n    })\n \n    this.setState({ ready: true })\n\n    this.callInitializeCallbacks()\n  }\n\n  loadContentful = async () => {\n    // if (isProd() || true) {\n    //   await this.updateContentful(false)\n    // } else {\n    this.setState({ ready: false })\n\n    const client = createContentfulClient()\n\n    this.setState({\n      contentfulData: [\n        await parseContentfulItems((await client.getEntries({ limit: 200, })).items),\n        await parseContentfulItems((await client.getEntries({ limit: 200, locale: 'en-US' })).items)\n      ]\n    })\n    // }\n\n    this.setState({ ready: true })\n\n    this.callInitializeCallbacks()\n  }\n\n  updateContentful = async (update: boolean = true) => {\n    this.setState({ ready: false })\n\n    const contentfulData = (await axios.post('https://api.tochkadostupa.spb.ru/contentful', { update: update })).data\n    const parsedContentfulData = [\n      await parseData(await parseContentfulItems(contentfulData.contentfulData[0])),\n      await parseData(await parseContentfulItems(contentfulData.contentfulData[1])),\n    ]\n\n    this.setState({\n      contentfulData: parsedContentfulData\n    })\n\n    console.log(`contentful data last updated ${contentfulData.date}`)\n\n    this.setState({ ready: true })\n\n    update &&\n      this.callInitializeCallbacks()\n  }\n\n  registerInitializeCallback = (fn: Function) => {\n    this.initializeCallBacks.push(fn)\n    this.state.contentfulData.length > 0 && fn()\n  }\n\n  callInitializeCallbacks = () =>\n    setTimeout(() =>\n      this.initializeCallBacks\n        .forEach((callback: Function) =>\n          callback())\n      , 100\n    )\n\n  stateAndSetters = () => {\n    const nonState = {\n      cookies: this.cookies,\n      checkUser: this.checkUser,\n      logout: this.logout,\n      setState: (obj: any) => _setState(this, obj),\n      setLocale: (_locale: string) =>\n        this.setState({\n          locale: _locale\n        }),\n      toggleLocale: () => {\n        const params = new URLSearchParams(this.props.location.search)\n\n        if (this.state.locale === 'rus')\n          params.append('en', '')\n        else\n          params.delete('en')\n\n        const paramsString = params.toString()\n\n        this.props.history.push({\n          search: paramsString.length === 0 ? '' : `?${paramsString}`\n        })\n        this.setState({\n          locale: this.state.locale === \"rus\" ? \"eng\" : \"rus\"\n        })\n      },\n\n      openPopup: () =>\n        document.body.classList.add('overflow-hidden'),\n      closePopup: () =>\n        document.body.classList.remove('overflow-hidden'),\n\n      contentful: this.state.contentfulData?.[this.state.locale === \"rus\" ? 0 : 1],\n      updateContentful: this.updateContentful,\n\n      registerInitializeCallback: this.registerInitializeCallback,\n    }\n\n    return ({\n      ...(this.state.ready ? this.state : initialState),\n      ...nonState\n    })\n  }\n\n  render = () =>\n    <Context.Provider value={this.stateAndSetters()}>\n      {this.props.children}\n    </Context.Provider>\n}\n\n\nexport default withRouter(Provider)","interface Messages {\n  [key: string]: (string | JSX.Element)[] | undefined | any\n}\n\nconst defaultMessages: Messages = {\n  AccessPoint: [\" \", \"Access point\"],\n  \n  locale: {\n    rus: [\"Rus\", \"Rus\"],\n    eng: [\"Eng\", \"Eng\"],\n  },\n  login: [\"\", \"Login\"],\n\n  online: [\"\", \"Online\"],\n  offline: [\"\", \"Offline\"],\n\n  Vkontakte: ['', 'Vkontakte'],\n  Facebook: ['', 'Facebook'],\n  Instagram: ['', 'Instagram'],\n  Youtube: ['', 'Youtube'],\n\n  Error404: {\n    line1: [', ', 'Wow, looks like'],\n    line2: [' ', 'this page'],\n    line3: [' ', `doesn't exist`],\n    return: ['  ', 'Back to homepage'],\n  },\n\n  User: {\n    \n    pages: {\n      Tickets: {\n        name: [\" \", \"My events\"],\n      },\n      Admin: {\n        name: [\"\", \"Admin\"],\n      },\n      Settings: {\n        name: [\"\", \"Settings\"],\n      },\n      logout: [\"\", \"Log out\"],\n    }\n  },\n\n  Footer: {\n    media: ['', 'media'],\n\n    address: [\n      <>\n        191023, -,<br />\n          2,<br />\n         302\n      </>,\n      <>\n        191023, Saint-Petersbourg,<br />\n        Srednyaya Pod'yacheskaya 2,<br />\n        office number 302\n      </>\n    ],\n\n    disclaimer: [\n      <>\n           New Technologies and Innovation in Theatre (     )        -   20142020 .                    -    .\n        <br /><br />\n          :   /    /     /    \n      </>,\n      <>\n        The publication about the project New Technologies and Innovation in Theater was prepared with the financial support of the Russia-Estonia Cross-Border Cooperation Program for the period 2014-2020. The content of this publication is the sole responsibility of autonomous non-profit cultural educational organization    and in no way reflects the position of the countries participating in the Program and the European Union.\n        <br /><br />\n        More information about the program: Program website / European Neighborhood Policy / Ministry of Economic Development of the Russian Federation / Ministry of Economy of Estonia\n      </>\n    ],\n  },\n\n  Home: {\n    keyvisual: {\n      name: [<> <br /> </>, <>International summer<br />festival of arts</>],\n      dates: ['8-26  2021', 'June 8-26 2021'],\n      tickets: ['  ', 'tickets on sale'],\n    },\n    subscribe: {\n      newsletter: ['', 'newsletter'],\n      desc: ['         ', 'learn everything about contemporary theatre'],\n      placeholder: [' email', 'Your email'],\n      submit: ['', 'subscribe'],\n      submitLoading: ['', 'subscribing'],\n      submitDone: ['!', 'done!'],\n      submitError: ['((', 'error(('],\n      // submitWrong: ['((', 'error(('],\n    },\n    festivalPass: {\n      1: ['', 'season ticket'],\n      2: ['', 'season ticket'],\n      desc: ['    ', 'Single ticket for festival events'],\n      price: ['6 000 ', '6 000 roubles'],\n      buy: ['', 'buy'],\n    },\n    Laba: {\n      name: ['', 'Laboratory'],\n      datetime: [' / 5-11  2021', 'Ivangorod / 5-11 June 2021'],\n    }\n  },\n\n  Program: {\n    name: ['', 'program'],\n    full: [' ', 'Full program'],\n    more: ['', 'More details'],\n\n    pages: {\n      Main: {\n        name: [\"\", \"Main\"],\n      },\n      Open: {\n        name: [\"\", \"Flow\"],\n      },\n      Educational: {\n        name: [\"\", \"Educational\"],\n      },\n      Friends: {\n        name: [\"  \", \"Our friends projects\"],\n      },\n    },\n\n    readText: [\" \", \"Read text\"],\n    hideText: [\"\", \"Back\"],\n    startAt: [\" \", \"Start at\"],\n  },\n  Schedule: {\n    name: [\"\", \"Schedule\"],\n\n    filter: ['', 'Filter'],\n    eventType: [' ', 'Event type'],\n    dates: ['', 'Dates'],\n    download: ['   pdf', 'Download schedule as pdf'],\n    downloadDesc: ['          pdf', 'Filter events you are interested in and download as pdf'],\n    cleanFilter: [' ', 'Clear filter'],\n    loadPrev: [' ', 'Load older events'],\n    apply: ['', 'Apply'],\n    msk: ['', '(GMT+3)'],\n    register: ['', 'Register'],\n    buy: [' ', 'Buy ticket'],\n    nothing: ['    ', 'No events during this dates'],\n    pdfFileName: ['   ', 'Access point 2021 schedule for'],\n    festivalPassDesc: ['      ', 'Best way to visit all festival events'],\n    a: ['', ''],\n  },\n  Festival: {\n    name: ['', 'Festival'],\n\n    pages: {\n      About: {\n        name: [\" \", \"About\"],\n        \n        pages: {\n          Projects: {\n            name: [\" \", \"Projects\"],\n          },\n          Reviews: {\n            name: [\"  \", \"Reviews & publications\"],\n          },    \n        }\n      },\n      QandA: {\n        name: [\"-\", \"Q&A\"],\n      },\n      Accreditation: {\n        name: [\"\", \"Accreditation\"],\n        details: [' ', 'Download details'],\n        presskit: ['-', 'Press-kit']\n      },\n      Archive: {\n        name: [\"\", \"Archive\"],\n        site: [\"\", \"Site\"],\n        booklet: [\"\", \"Booklet\"],\n      },\n      Contacts: {\n        name: [\"\", \"Contacts\"],\n      },\n    },\n  },\n\n  Privacy: {\n    name: [\" \", \"Privacy\"],\n  },\n  Details: {\n    name: [\"\", \"Details\"],\n  },\n  Volunteers: {\n    name: [\"\", \"Volunteers\"],\n  },\n\n  \n  Login: {\n    name: [\"\", \"Login\"],\n    main: {\n      h2: [\" \", \"Your Account\"],\n\n    }\n  },\n\n  Spekt: {\n    length: ['', 'Length'],\n    stage: [' / ', 'Stage / location'],\n    credits: [' ', 'Credits'],\n    sponsor: [' ', 'Sponsor'],\n    howToOnline: ['   ?', 'Tickets'],\n    howToOffline: ['   ?', 'Tickets'],\n    instructions: ['  ', 'Instructions'],\n    performanceTeam: [' ', 'Project team'],\n    buy: ['', 'Tickets'],\n    buyAnchor: ['  ', 'Tickets & schedule'],\n    showAllShows: [' ...', 'More shows...'],\n    FestivalPass: {\n      desc: [<> 35%   <br /> </>, <>35% discount with<br />promocode</>],\n      more: ['', 'Learn more'],\n      tooltip: [' ', 'promocode copied'],\n      noReturns: [' ,   ,     ,       ,  ', 'You can return a ticket purchased using a promotional code only if the event is canceled and in cases provided for by law']\n    }\n  },\n\n  DatePicker: {\n    day: ['', 'day'],\n    month: ['', 'month'],\n    year: ['', 'year'],\n  }\n}\n\n\nexport default defaultMessages","import _ from 'lodash'\n\n\nconst isJSON = (obj: object): boolean =>\n  obj.constructor === ({}).constructor\n\nconst flatten = (input: object): object =>\n  !isJSON(input) ?\n    input\n    :\n    _.transform(\n      input,\n      (res: object, value, key) =>\n        !isJSON(value) ?\n          res[key] = value\n          :\n          _.forIn(flatten(value),\n            (valueValue, valueKey) =>\n              (res as any)[`${key}.${valueKey}`] = valueValue)\n      , {})\n\n\nexport default flatten\n","import defaultMessages from './defaultMessages'\nimport arrayToLocale from './arrayToLocale'\nimport flatten from '../../../utils/flatten'\n\n\nconst messages = arrayToLocale(flatten(defaultMessages))\n\ntype objectWithContextType = {\n  context: {\n    messages: any,\n    locale: string\n  }\n}\n\nconst getMessage = (\n  _this: objectWithContextType,\n  id: string,\n): string =>\n    messages[_this.context.locale][id] || \"#no message found#\"\n\nconst getMessageAllLocales = (\n  _this: objectWithContextType,\n  id: string,\n): string[] =>\n    [\n      messages[\"rus\"][id] || \"#no message found#\",\n      messages[\"eng\"][id] || \"#no message found#\"\n    ]\n\n\nexport {\n  messages,\n  getMessage,\n  getMessageAllLocales,\n}","import _ from 'lodash'\n\n\ninterface messagesType {\n  [key: string]: {\n    [key: string]: string | undefined\n  }\n}\n\nconst arrayToLocale = (obj: object): messagesType => {\n  var result = {\n    rus: {},\n    eng: {}\n  }\n\n  _.transform(obj,\n    (res, value, key) => {\n      res.rus[key] = value[0]\n      res.eng[key] = value[1]\n    }, result)\n\n  return result\n}\n\n\nexport default arrayToLocale","const camelize = (string: string): string =>\n  string.charAt(0).toUpperCase() + string.slice(1)\n\n\nexport default camelize","import defaultMessages from '../components/Store/locale/defaultMessages'\nimport camelize from './camelize'\nimport { LinkObj } from '../components/Store/Types'\n\n\nconst getSubLinks = ( path: string ): LinkObj[] => {\n  if (path === '/spekt/laboratoriagranits')\n    return getSubLinks('/program')\n\n  const res = Object.keys(defaultMessages[camelize(path.split('/')[1])].pages)\n    .map(key => ({\n      to: `/${path.split('/')[1].toLowerCase()}/${key === 'QandA' ? 'q&a' : key.toLowerCase()}`,\n      id: `${camelize(path.split('/')[1])}.pages.${key}.name`,\n      exact: key.match(/QandA|About|Main|Open|Educational/) ? false : true,\n    }))\n\n  if (path.match(/\\/program|\\/spekt\\/laboratoriagranits/))\n    return [\n      ...res.slice(0, 3),\n      {\n        to: '/spekt/laboratoriagranits',\n        id: 'Home.Laba.name',\n        exact: true\n      },\n      ...res.slice(3)\n    ]\n  \n  return res\n}\n\n\nconst pathToId = (path: string) => {\n  const sections = path\n    .split('/')\n    .filter(section => section.length > 0)\n    .map(section => section === 'q&a' ? 'QandA' : camelize(section))\n\n  switch (sections.length) {\n    case 0:\n      return '#no path#'\n    case 1:\n      return `${sections[0]}.name`\n    case 2:\n      return `${sections[0]}.pages.${sections[1]}.name`\n  }\n}\n\nconst pathToIds = (path: string) => {\n  const sections = path\n    .split('/')\n    .filter(section => section.length > 0)\n  const QandAindex = sections.indexOf('q&a')\n\n  return sections\n    .slice(0, QandAindex !== -1 ? (QandAindex + 1) : sections.length)\n    .map((section, index) =>\n      `${sections.slice(0, index + 1)\n        .reduce((a, b) =>\n          `${a}/${b}`)}`)\n    .map(section => pathToId(section))\n}\n\n\nexport {\n  getSubLinks,\n  pathToId,\n  pathToIds,\n}\n","import React from 'react'\n\nimport { withRouter } from 'react-router-dom'\nimport { RouteComponentProps } from 'react-router'\nimport { Helmet as ReactHelmet } from 'react-helmet'\n\nimport { Context } from './Store'\nimport { getMessage } from './Store/locale'\nimport { Spekt } from './Store/Types'\nimport { pathToIds } from '../utils/routeUtils'\n\n\ntype PathParamsType = {\n  param1: string,\n}\n\n\nclass Helmet extends React.Component<RouteComponentProps<PathParamsType>> {\n\n  static contextType = Context\n\n  render = () => {\n    const subTitles = pathToIds(this.props.location.pathname)\n      .map((section: string | undefined) =>\n        ` / ${getMessage(this, section || '')}`)\n    const titleText = `${getMessage(this, 'AccessPoint')} VII ${\n      this.props.location.pathname.match(/\\/spekt\\/*/) ?\n        ' / ' + (this?.context?.contentful?.spekts\n          ?.find((spekt: Spekt) =>\n            spekt.link === this.props.location.pathname.replace('/spekt/', ''))\n          ?.name\n          || (this?.context?.contentful ? 404 : ''))\n        :\n        subTitles.length > 0 ?\n          subTitles.reduce((a, b) => a + b)\n          :\n          ''\n    }`\n    const defaultDesc = '         -     ,      2015 .                 .             ,       ,      ,    .'\n    const defaultImg = '/og-image.jpg'\n    // const page = this?.context?.contentful?.[``][0]\n\n    return (\n      <ReactHelmet>\n        <title>\n          {titleText}\n        </title>\n        <meta property=\"og:url\" content={`https://tochkadostupa.spb.ru${this.props.location.pathname}`} />\n        <meta property=\"og:title\" content={titleText} />\n        <meta property=\"og:description\" content={defaultDesc} />\n        <meta property=\"og:image\" content={defaultImg} />\n      </ReactHelmet>\n    )\n  }\n}\n\n\nexport default withRouter(Helmet)","const addNewLines = (string: string | any) =>\n  typeof string !== 'string' ?\n    string\n    :\n    string.includes('\\n') ?\n      string\n        .split('\\n')\n        .map((paragraph, index) =>\n          <div\n            key={index}\n            className=\"inherit-all\"\n          >\n            {paragraph}\n          </div>)\n      :\n      string\n\n\nexport default addNewLines","import React from 'react'\n\nimport addNewLines from '../utils/addNewLines'\nimport { Context } from './Store'\nimport { getMessage } from './Store/locale'\n\n\ntype Props = {\n  id?: string,\n  message?: string[]\n  className?: string,\n  onClick?: Function,\n}\n\n\nclass FormattedMessage extends\n  React.Component<Props, {}> {\n\n    static contextType = Context\n\n    render = () =>\n      <div\n        className={`FormattedMessage ${this.props.className}`}\n        onClick={() => this.props?.onClick?.()}\n      >\n        {this.props.id &&\n          addNewLines(\n            getMessage(this, this.props.id))}\n        {this.props?.message?.\n          [this.context.locale === 'rus' ? 0 : 1]}\n      </div>\n  }\n  \n\nexport default FormattedMessage\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  width: 40.354,\n  height: 40,\n  rx: 12,\n  fill: \"#251616\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14.4075 23.9697L11.5113 17.3882H7.56641L12.4101 28.4393H16.3549L21.1986 17.3882H17.3037L14.4075 23.9697Z\",\n  fill: \"white\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14.3575 11.3957C16.0054 11.3957 17.3536 12.7218 17.3536 14.3426H21.1986C21.3484 10.7571 18.5021 7.66285 14.8569 7.5155C14.807 7.5155 14.757 7.5155 14.7071 7.5155C11.0119 7.26992 7.81608 9.97129 7.56641 13.6059C7.56641 13.655 7.56641 13.7041 7.56641 13.7532C7.56641 13.9497 7.56641 14.1953 7.56641 14.3917H11.3615C11.3615 12.7218 12.7097 11.3957 14.3575 11.3957Z\",\n  fill: \"white\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M26.6915 17.3882H22.8466V28.3901H26.6915V17.3882Z\",\n  fill: \"white\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M33.2698 17.3882H29.4248V28.3901H33.2698V17.3882Z\",\n  fill: \"white\"\n});\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 41,\n    height: 40,\n    viewBox: \"0 0 41 40\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.94340dee.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\n\nimport FormattedMessage from './FormattedMessage'\nimport { ReactComponent as Logo } from '../styles/img/logo.svg'\n\n\nconst LogoWithText: React.FunctionComponent = () =>\n  <div className='LogoWithText'>\n    <Logo className=\"LogoWithText__img\" />\n    <FormattedMessage\n      className=\"LogoWithText__name\"\n      id=\"AccessPoint\"\n    />\n  </div>\n\n\nexport default LogoWithText","import React from 'react'\n\nimport {\n  Link,\n  NavLink,\n  withRouter\n} from 'react-router-dom'\nimport { RouteComponentProps } from 'react-router'\n\n\ntype PathParamsType = {\n  param1: string,\n}\n\ntype Props = RouteComponentProps<PathParamsType> & {\n  className?: string\n  activeClassName?: string\n  style?: object\n  to: string\n  sameTab?: boolean\n  children?: any\n  onClick?: Function\n  disabled?: boolean\n  exact?: boolean\n  outerRef?: any\n}\n\n\nconst _Link : React.FunctionComponent<Props> = ({\n  className,\n  activeClassName,\n  style,\n  to,\n  sameTab,\n  children,\n  onClick,\n  disabled,\n  exact,\n  location,\n  outerRef,\n  ...other\n}) =>\n  disabled || !to ?\n    <span\n      ref={outerRef}\n      className={`Link Link--disabled ${className}`}\n      style={style}\n      onClick={(e: any) => onClick?.(e)}\n      {...other}\n    >\n      {children}\n    </span>\n    :\n    to.match(/http*|tel:*|mailto:*|#[a-zA-Z0-9]+/) ?\n      <a\n        ref={outerRef}\n        className={`Link ${className}`}\n        style={style}\n        href={to}\n        target={sameTab ? \"\" : \"_blank\"}\n        // rel=\"noopener nouterReferrer\"\n        // rel={sameTab ? '' : 'noreferrer'}\n        rel='noreferrer'\n        onClick={(e: any) => onClick?.(e)}\n        {...other}\n      >\n        {children}\n      </a>\n      :\n      activeClassName ?\n        <NavLink\n          ref={outerRef}\n          exact={typeof exact !== 'undefined' ? exact : true}\n          to={to + location.search}\n          className={`Link ${className}`}\n          activeClassName={`Link--active ${activeClassName}`}\n          style={style}\n          onClick={(e: any) => onClick?.(e)}\n          {...other}\n        >\n          {children}\n        </NavLink>\n        :\n        <Link\n          ref={outerRef}\n          to={to + location.search}\n          className={`Link ${className}`}\n          style={style}\n          onClick={(e: any) => onClick?.(e)}\n          {...other}\n        >\n          {children}\n        </Link>\n\n\nexport default withRouter(_Link)","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 12,\n  r: 9,\n  stroke: \"#251616\",\n  strokeWidth: 2\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13 20C9.68629 20 7 16.4183 7 12C7 7.58172 9.68629 4 13 4\",\n  stroke: \"#251616\",\n  strokeWidth: 2\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11 20C14.3137 20 17 16.4183 17 12C17 7.58172 14.3137 4 11 4\",\n  stroke: \"#251616\",\n  strokeWidth: 2\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 3,\n  y1: 12,\n  x2: 21,\n  y2: 12,\n  stroke: \"#251616\",\n  strokeWidth: 2\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 12,\n  y1: 4,\n  x2: 12,\n  y2: 22,\n  stroke: \"#251616\",\n  strokeWidth: 2\n});\n\nfunction SvgLocale(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLocale);\nexport default __webpack_public_path__ + \"static/media/locale.a485bc16.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 6,\n  y: 13,\n  width: 12,\n  height: 2,\n  fill: \"black\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15 21V7L24.5 14L15 21Z\",\n  fill: \"black\"\n});\n\nfunction SvgArrowRight(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 28,\n    height: 28,\n    viewBox: \"0 0 28 28\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowRight);\nexport default __webpack_public_path__ + \"static/media/arrow-right.ca6a21d9.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\n\nimport FormattedMessage from './FormattedMessage'\nimport { ReactComponent as ArrowRight } from '../styles/img/arrow-right.svg'\n\n\nconst Online : React.FunctionComponent<{\n  className?: string,\n  onClick?: Function,\n  disabled?: boolean,\n}> = ({\n  className,\n  onClick,\n  disabled,\n}) =>\n  <button\n    className={`button button--online ${className}`}\n    onClick={() => !disabled && onClick?.()}\n    disabled={disabled}\n  >\n    <FormattedMessage id='online' />\n  </button>\n  \nconst Offline : React.FunctionComponent<{\n  className?: string,\n  onClick?: Function,\n  disabled?: boolean,\n}> = ({\n  className,\n  onClick,\n  disabled,\n}) =>\n  <button\n    className={`button button--offline ${className}`}\n    onClick={() => !disabled && onClick?.()}\n    disabled={disabled}\n  >\n    <FormattedMessage id='offline' />\n  </button>\n\nconst Age : React.FunctionComponent<{\n  number?: number | string,\n  text?: string | number\n  className?: string,\n  onClick?: Function,\n  disabled?: boolean,\n}> = ({\n  number,\n  text,\n  className,\n  onClick,\n  disabled,\n}) =>\n  <button\n    className={`button button--age ${className}`}\n    onClick={() => !disabled && onClick?.()}\n    disabled={disabled}\n  >\n    {text ?\n      text\n      :\n      number + '+'\n    }\n  </button>\n\nconst Program : React.FunctionComponent<{\n  text?: string\n  className?: string,\n  onClick?: Function,\n  disabled?: boolean,\n}> = ({\n  text,\n  className,\n  onClick,\n  disabled,\n}) =>\n  <button\n    className={`button button--program ${className}`}\n    onClick={() => !disabled && onClick?.()}\n    disabled={disabled}\n  >\n    {text}\n  </button>\n\nconst Left : React.FunctionComponent<{\n  className?: string,\n  onClick?: Function,\n  disabled?: boolean,\n}> = ({\n  className,\n  onClick,\n  disabled,\n}) =>\n  <button\n    className={`button button--arrow button--arrow--left ${className}`}\n    onClick={() => !disabled && onClick?.()}\n    disabled={disabled}\n  >\n    <ArrowRight />\n  </button>\n\nconst Right : React.FunctionComponent<{\n  className?: string,\n  onClick?: Function,\n  disabled?: boolean,\n}> = ({\n  className,\n  onClick,\n  disabled,\n}) =>\n  <button\n    className={`button button--arrow button--arrow--right ${className}`}\n    onClick={() => !disabled && onClick?.()}\n    disabled={disabled}\n  >\n    <ArrowRight />\n  </button>\n\n\nexport {\n  Online,\n  Offline,\n  Age,\n  Program,\n  Left,\n  Right,\n}","const clip = (value: number, min: number, max: number) =>\n  Math.max(min, Math.min(max, value))\n\n\nexport default clip","import React from 'react'\n\nimport ResizeObserver from 'resize-observer-polyfill'\n\nimport Link from './Link'\nimport {\n  Left,\n  Right\n} from './buttons'\nimport { Context } from './Store'\nimport clip from '../utils/clip'\n\n\ntype Props = {\n  items: any[] | undefined\n  ItemComp: React.FunctionComponent<any | {item: any, index?: number, className?: string}>\n  className?: string\n  title?: string | JSX.Element\n  arrows?: boolean\n  XXL?: boolean\n  XL?: boolean\n  L?: boolean\n  M?: boolean\n  S?: boolean\n  bottomLink?: {\n    to: string\n    label: string | JSX.Element\n  }\n}\n\ntype State = {\n  index: number\n\n  scrollWidth: number\n  containerWidth: number\n  leftPadding: number\n  itemWidth: number\n  currentScroll: number\n  scrollbarWidth: number\n  scrollbarLeft: number\n  scrollbarCursorStart: number\n  scrollbarDragStart: number\n  currentlyScrolling: boolean\n}\n\n\nconst gutterWidth = 24\n\n\nclass HorizontalShowcase extends React.Component<Props, State> {\n\n  state: State = {\n    index: 0,\n\n    scrollWidth: 0,\n    containerWidth: 0,\n    leftPadding: 0,\n    itemWidth: 0,\n    currentScroll: 0,\n    scrollbarWidth: 0,\n    scrollbarLeft: 0,\n    scrollbarCursorStart: 0,\n    scrollbarDragStart: -1,\n    currentlyScrolling: false\n  }\n\n  static contextType = Context\n\n  resizeObs: any\n\n  scrollTimeout: any\n\n  scrollRef: any = React.createRef()\n  containerRef: any = React.createRef()\n  scrollbarRef: any = React.createRef()\n  itemsRefs: any[] = Array\n    .apply(null, Array(this?.props?.items?.length || 0))\n    .map(ref => React.createRef())\n\n  componentDidMount = () => {\n    if (this.props.arrows && (this.props?.items?.length || 0) !== 0) {\n      this.scrollRef?.current?.addEventListener('scroll', this.handleScroll)\n      this.resizeObs = new ResizeObserver(this.handleResize.bind(this))\n        .observe(this.scrollRef.current)\n\n      // this.scrollRef?.current?.addEventListener(\"touchend\", this.scrollStop, false)\n      this.scrollbarRef?.current?.addEventListener(\"mousedown\", this.scrollbarClickStart, false)\n      window.addEventListener(\"mouseup\", this.scrollbarClickEnd, false)\n      window.addEventListener('mousemove', this.scrollbarMouseMove)\n    }\n  }\n    \n  componentWillUnmount = () => {\n    if (this.props.arrows && (this.props?.items?.length || 0) !== 0) {\n      this.scrollRef?.current?.removeEventListener('scroll', this.handleScroll)\n      // this.scrollRef?.current?.removeEventListener(\"touchend\", this.scrollStop, false)\n      this.scrollbarRef?.current?.removeEventListener(\"mousedown\", this.scrollbarClickStart, false)\n      window.removeEventListener(\"mouseup\", this.scrollbarClickEnd, false)\n      window.removeEventListener('mousemove', this.scrollbarMouseMove)\n    }\n  }\n\n  handleResize = () => {\n    if (!this.itemsRefs?.[0]?.current)\n      return\n\n    const leftPadding = parseInt(\n      window.getComputedStyle(this.scrollRef.current.children[0], null)\n        .getPropertyValue('padding-left')\n        .replace('px', ''))\n\n    this.setState({\n      scrollWidth: this.scrollRef.current.clientWidth,\n      containerWidth: this.containerRef.current.clientWidth,\n      currentScroll: this.scrollRef.current.scrollLeft,\n      itemWidth: this.itemsRefs[0].current.clientWidth,\n      leftPadding: leftPadding,\n      scrollbarWidth: (this.scrollRef.current.clientWidth / this.containerRef.current.clientWidth) * (this.scrollRef.current.clientWidth - leftPadding * 2)\n    })\n  }\n      \n\n  handleScroll = () => {\n    // clearTimeout(this.scrollTimeout)\n    // this.scrollTimeout = setTimeout(() => this.move(0), 66)\n    if (!this.itemsRefs?.[0]?.current)\n      return\n\n    const currentScroll = this.scrollRef.current.scrollLeft\n    const {\n      itemWidth,\n      leftPadding,\n      scrollbarWidth,\n      scrollWidth,\n      containerWidth,\n    } = this.state\n    \n    this.setState({\n      currentScroll: currentScroll,\n      index: Math.ceil(currentScroll / (itemWidth + gutterWidth))\n    })\n\n    if (this.state.scrollbarDragStart === -1)\n      this.setState({\n        scrollbarLeft: (currentScroll / (containerWidth - scrollWidth)) * (scrollWidth - leftPadding * 2 - scrollbarWidth)\n      })\n  }\n\n  scrollStop = () =>\n    this.move(0)\n\n  scrollbarClickStart = (e: any) => {\n    this.setState({\n      scrollbarCursorStart: e.clientX,\n      scrollbarDragStart: this.state.scrollbarLeft\n    })\n  }\n\n  scrollbarMouseMove = (e: any) => {\n    if (this.state.scrollbarDragStart === -1)\n     return\n\n    const {\n      leftPadding,\n      scrollbarWidth,\n      scrollWidth,\n      containerWidth,\n    } = this.state\n    const maxScrollbarLeft = scrollWidth - leftPadding * 2 - scrollbarWidth\n    const newScrollbarLeft = clip(\n      this.state.scrollbarDragStart + e.clientX - this.state.scrollbarCursorStart,\n      0,\n      maxScrollbarLeft)\n\n    this.setState({\n      scrollbarLeft: newScrollbarLeft\n    })\n\n    this.scrollRef?.current?.scroll?.((newScrollbarLeft / maxScrollbarLeft) * (containerWidth - scrollWidth), 0)\n  }\n\n  scrollbarClickEnd = (e: any) => {\n    this.setState({\n      scrollbarCursorStart: 0,\n      scrollbarDragStart: -1\n    })\n  }\n\n  itemOffset = (index: number) =>\n    this.itemsRefs[index]?.current?.offsetLeft || 0\n\n  move = (offset: number) => {\n    const { leftPadding } = this.state\n\n    if (!this.state.currentlyScrolling)\n      this.scroll(this.itemOffset(this.state.index + offset) - (leftPadding || 0))\n  }\n\n  scroll = (finalPos: number, startPos?: number, currentFrame: number = 0, maxFrames: number = 12) => {\n    this.setState({\n      currentlyScrolling: true\n    })\n\n    if (currentFrame > maxFrames) {\n      this.setState({\n        currentlyScrolling: false\n      })  \n      return\n    }\n\n    if (typeof startPos !== 'undefined')\n      this.scrollRef?.current?.scroll(startPos + (finalPos - startPos) * currentFrame / maxFrames, 0)\n    \n    const currentScroll = this.scrollRef?.current?.scrollLeft\n\n    window.requestAnimationFrame(() =>\n      this.scroll(\n        finalPos,\n        startPos || currentScroll,\n        currentFrame + 1,\n        maxFrames\n      )\n    )\n  }\n\n  itemInTheCorner = (index: number) =>\n    this.itemOffset(index) >= (this.state.currentScroll + this.state.scrollWidth - this.state.leftPadding - this.state.itemWidth)\n    && this.itemOffset(index) <= (this.state.currentScroll + this.state.scrollWidth - this.state.leftPadding)\n\n  cornerHandleClick = (e: any, index: number) => {\n    if (!this.itemInTheCorner(index))\n      return\n      \n    e?.preventDefault()\n    this.move(1)\n  }\n\n  renderArrows = (className?: string) =>\n    <div className={className}>\n      <Left\n        className='mr-3'\n        onClick={() => this.move(-1)}\n        disabled={this.state.index <= 0}\n      />\n      <Right\n        onClick={() => this.move(1)}\n        disabled={this.state.containerWidth - this.state.scrollWidth <= this.state.currentScroll}\n      />\n    </div>\n\n  render = () => {\n    const { ItemComp } = this.props\n\n    return !this.props.items || this.props?.items?.length === 0 ? '' : (\n      <div className={`HorizontalShowcase ${this.props.className}`}>\n\n        {this.props.title &&\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-12\">\n                <div className=\"d-flex flex-row underline\">\n                  <h2 className=\"h2 mr-auto\">\n                    {this.props.title}\n                  </h2>\n                  {this.props.arrows &&\n                    this.renderArrows('d-none d-md-inline-flex flex-row')}\n                  {this.props.arrows &&\n                    <div\n                      ref={this.scrollbarRef}\n                      className='HorizontalShowcase__scrollbar'\n                      style={{\n                        width: this.state.scrollbarWidth, \n                        left: this.state.scrollbarLeft,\n                      }}\n                    />\n                  }\n                </div>\n              </div>\n            </div>\n            {this.props.arrows &&\n              <div className='row d-md-none mb-s'>\n                <div className='col-4'>\n                  {this.renderArrows('d-flex flex-row')}\n                </div>\n              </div>\n            }\n          </div>\n        }\n\n        <div\n          ref={this.scrollRef}\n          className='HorizontalShowcase__scroll'\n        >\n          <div\n            ref={this.containerRef}\n            className=\"HorizontalShowcase__scroll__container\"\n          >\n            {this.props.items?.map((item, index) =>\n              <ItemComp\n                outerRef={this.itemsRefs[index]}\n                key={item.id || index}\n                index={index}\n                className={`\n                  HorizontalShowcase__item\n                  ${this.props.XXL && 'HorizontalShowcase__item--XXL'}\n                  ${this.props.XL && 'HorizontalShowcase__item--XL'}\n                  ${this.props.L && 'HorizontalShowcase__item--L'}\n                  ${this.props.M && 'HorizontalShowcase__item--M'}\n                  ${this.props.S && 'HorizontalShowcase__item--S'}\n                  ${this.itemInTheCorner(index) && 'HorizontalShowcase__scroll__corner'}\n                `}\n                onClick={(e: any) => this.cornerHandleClick(e, index)}\n                {...item}\n              />\n            )}\n          </div>\n          {/* {(this.props.arrows && this.state.index < (this?.props?.items?.length || 0) - 2) &&\n            <div\n              className='HorizontalShowcase__scroll__corner'\n              onClick={() => this.move(1)}\n            />\n          } */}\n        </div>\n\n        {this.props.bottomLink &&\n          <div className=\"container mt-xxs mt-md-xs\">\n            <div className=\"row\">\n              <div className=\"col-4 col-md-6 col-lg-4 col-xl-3\">\n                <Link\n                  to={this.props.bottomLink.to}\n                  className='button button--main'\n                >\n                  {this.props.bottomLink.label}\n                </Link>\n              </div>\n            </div>\n          </div>\n        }\n      </div>\n    )\n  }\n}\n\n\nexport default HorizontalShowcase","import React from 'react'\n\nimport _, { capitalize } from 'lodash'\n\nimport { withRouter } from 'react-router-dom'\nimport { RouteComponentProps } from 'react-router'\n\nimport LogoWithText from './LogoWithText'\nimport FormattedMessage from './FormattedMessage'\nimport { Context } from './Store'\nimport Link from './Link'\nimport { ReactComponent as LocaleIcon } from '../styles/img/locale.svg'\nimport { ReactComponent as UserLineIcon } from '../styles/img/user-line.svg'\nimport HorizontalShowcase from './HorizontalShowcase'\nimport { getSubLinks } from '../utils/routeUtils'\nimport { getMessage } from './Store/locale'\nimport camelize from '../utils/camelize'\nimport { LinkObj } from './Store/Types'\n\n\ntype Props = RouteComponentProps<{\n  param1: string,\n}>\ntype State = {\n  opened: boolean\n  scrollingUp: boolean\n  secondaryLinks: LinkObj[]\n}\n\n\nconst mobileHeaderLinks = [\n    ...getSubLinks('/program'),\n    {\n      to: '/schedule',\n      id: 'Schedule.name'\n    },    \n    {\n      to: 'https://special.tochkadostupa.spb.ru/abonement',\n      id: 'Home.festivalPass.1'\n    },\n    ...getSubLinks('/festival')\n      .filter(link => !link.to.match(/\\/festival\\/projects|\\/festival\\/reviews/)),\n    \n    {\n      to: 'https://vk.com/tochkadostupa',\n      id: 'Vkontakte'\n    },\n    {\n      to: 'https://www.facebook.com/tochkadostupa',\n      id: 'Facebook'\n    },\n    {\n      to: 'https://www.instagram.com/tochkadostupaspb/',\n      id: 'Instagram'\n    },\n    {\n      to: 'https://www.youtube.com/channel/UCcDBr-1T4dsTQO5xYmaalYg',\n      id: 'Youtube'\n    },\n  ]\n\n\nclass Header extends React.Component<Props, State> {\n  state: State = {\n    opened: false,\n    scrollingUp: false,\n    secondaryLinks: [],\n  }\n\n  static contextType = Context\n\n  secondaryRef: any = React.createRef()\n  hideSecondaryLinksTimeout: any = null\n\n  prev:any\n\n  componentDidMount() {\n    this.prev = window.scrollY\n    window.addEventListener('scroll', e => this.handleScroll(e))\n    this.updateSecondaryLinks()\n    if (this.props.history.location.pathname.match(/\\/user*/) && _.isEmpty(this.context.user))\n      setTimeout(() => this.updateSecondaryLinks(), 500)\n  }\n\n  componentWillUnmount = () =>\n    window.removeEventListener('scroll', e => this.handleScroll(e))\n\n  componentDidUpdate = (prevProps: { location: Object }) => {\n    if (this.props.location !== prevProps.location) {\n      this.updateSecondaryLinks()\n      this.setState({ opened: false })\n      this.context.closePopup()\n    }\n  }\n\n\n  updateSecondaryLinks = (pathToShow?: string) =>\n    this.setState({\n      secondaryLinks: (path =>\n        !path.match(/\\/festival*|\\/program|\\/user*|\\/spekt\\/laboratoriagranits/)\n        || (path.match(/\\/user*/) && _.isEmpty(this.context.user)) ?\n          []\n          :\n          [\n            ...(path.includes('festival') ?\n              [\n                {\n                  to: 'https://special.tochkadostupa.spb.ru/abonement',\n                  id: 'Home.festivalPass.1'\n                }\n              ]\n              :\n              []\n            ),\n            ...getSubLinks(path)\n              .filter(link => !link.to.match(/\\/festival\\/projects|\\/festival\\/reviews/))\n          ]  \n      )(pathToShow || this.props.history.location.pathname)\n    })\n\n  initHideSecondaryLinksTimeout = () =>\n    this.hideSecondaryLinksTimeout = setTimeout(this.updateSecondaryLinks, 350)\n\n  breakHideSecondaryLinksTimeout = () => {\n    if (this.hideSecondaryLinksTimeout !== null) {\n      clearTimeout(this.hideSecondaryLinksTimeout)\n      this.hideSecondaryLinksTimeout = null\n    }\n  }\n\n  handleScroll = (e: any) => {\n    const window = e.currentTarget\n\n    if (this.prev > window.scrollY && window.scrollY > window.innerHeight) {\n      this.setState({ scrollingUp: true })\n    } else {\n      this.setState({ scrollingUp: false })\n    }\n    this.prev = window.scrollY\n  }\n\n  renderHeader = (className?: string, children?: JSX.Element ) =>\n    <header className={`Header ${className} ${this.state.secondaryLinks.length > 0 && 'Header--secondary'}`}>\n      <div className=\"Header__main\">\n        <div className=\"Header__container\">\n          \n          <Link\n            to=\"/\"\n            className='mr-auto'\n            activeClassName=\"Link--active\"\n          >\n            <LogoWithText />\n          </Link>\n\n          <div className={`Header__links ${this.state.opened && \"Header__links--opened\"}`}>\n            <div\n              className={`\n                Header__links__item Header__links__item--dropdown\n                ${this.state.secondaryLinks[0]?.to === '/program/home' && 'Header__links__item--hover'}\n                ${this.props.location.pathname.match(/\\/program\\/*|\\/spekt\\/laboratoriagranits/) && 'Header__links__item--active'}\n              `}\n              onMouseEnter={() => {\n                this.breakHideSecondaryLinksTimeout()\n                this.updateSecondaryLinks('/program')\n              }}\n              onMouseLeave={this.initHideSecondaryLinksTimeout}\n            >\n              {camelize(getMessage(this, 'Program.name'))}\n            </div>\n            <Link\n              to=\"/schedule\"\n              className=\"Header__links__item\"\n              activeClassName=\"Header__links__item--active\"\n            >\n              <FormattedMessage id=\"Schedule.name\" />\n            </Link>\n            <div\n              className={`\n                Header__links__item Header__links__item--dropdown\n                ${this.state.secondaryLinks[0]?.to === '/festival/about' && 'Header__links__item--hover'}\n                ${this.props.location.pathname.includes('festival') && 'Header__links__item--active'}\n              `}\n              onMouseEnter={() => {\n                this.breakHideSecondaryLinksTimeout()\n                this.updateSecondaryLinks('/festival')\n              }}\n              onMouseLeave={this.initHideSecondaryLinksTimeout}\n            >\n              <FormattedMessage id=\"Festival.name\" />\n            </div>\n          </div>\n\n          {this.renderControls()}\n\n          <div\n            className=\"Header__burger\"\n            onClick={() => {\n              this.state.opened ?\n                this.context.closePopup()\n                :\n                this.context.openPopup()\n              this.setState({ opened: !this.state.opened })\n            }}\n          />\n\n        </div>\n      </div>\n\n      {this.renderSecondary()}\n\n      {children}\n    </header>\n\n  renderControls = () =>\n    <div className='Header__controls'>\n      <button\n        className=\"Header__controls__item Header__controls__item--locale\"\n        onClick={this.context.toggleLocale}\n      >\n        <LocaleIcon className=\"Header__controls__item__icon\" />\n        <FormattedMessage id={this.context.locale === \"rus\" ? \"locale.eng\" : \"locale.rus\"} />\n      </button>\n      \n      {/* {!_.isEmpty(this.context.user) ?\n        <div\n          className={`\n            Header__controls__item\n            Header__controls__item--user\n            ${this.state.secondaryLinks.length === 4 && 'Header__controls__item--user--hover'}\n            ${this.props.history.location.pathname.includes('/user/')\n              && 'Header__controls__item--active'}\n          `}\n          onMouseEnter={() => {\n            this.breakHideSecondaryLinksTimeout()\n            this.updateSecondaryLinks('/user')\n          }}\n          onMouseLeave={this.initHideSecondaryLinksTimeout}\n          onClick={() => {\n            if (this.state.opened && window.innerWidth) {\n              this.setState({ opened: false })\n              this.props.history.push('/user/tickets')\n            }\n          }}\n        >\n          <UserLineIcon className=\"Header__controls__item__icon\" />\n          {this.context.user.name}\n        </div>\n        :\n        <Link\n          to=\"/login\"\n          className='Header__controls__item'\n          activeClassName='Header__controls__item--active'\n        >\n          <UserLineIcon className=\"Header__controls__item__icon\" />\n          <FormattedMessage id=\"login\" />\n        </Link>\n      } */}\n    </div>\n\n  renderSecondary = () =>\n    <div\n      ref={this.secondaryRef}\n      onMouseEnter={this.breakHideSecondaryLinksTimeout}\n      onMouseLeave={this.initHideSecondaryLinksTimeout}\n      className={`\n        Header__secondary\n        ${this.state.secondaryLinks.length > 0 && 'Header__secondary--show'}\n      `}\n    >\n      <HorizontalShowcase\n        items={this.state.secondaryLinks}\n        ItemComp={props =>\n          props.to === '/user/logout' ?\n            <button\n              className=\"Header__links__item Header__links__item--exit\"\n              onClick={() => {\n                this.context.logout()\n                this.props.history.push('/login')\n              }}\n            >\n              <FormattedMessage id=\"User.pages.logout\" />\n            </button>\n            :\n            <Link\n              to={props.to}\n              exact={props.exact}\n              className={`\n                Header__links__item\n                ${props.to === 'https://special.tochkadostupa.spb.ru/abonement' &&\n                  'Header__links__item--FestivalPass'}\n              `}\n              activeClassName='button--navigation--hover'\n            >\n              {props.to === 'https://special.tochkadostupa.spb.ru/abonement' ?\n                camelize(getMessage(this, props.id))\n                :\n                <FormattedMessage id={props.id} />\n              }\n            </Link>\n        }\n      />\n    </div>\n\n  renderOpenedMobileHeader = () => {\n    const mappedMobileHeaderLinks = mobileHeaderLinks\n      .map(link =>\n        <Link\n          key={link.to}\n          {...link}\n        >\n          {link.id === 'Home.festivalPass.1' ?\n            camelize(getMessage(this, link.id))\n            :\n            <FormattedMessage id={link.id} />\n          }\n        </Link>)\n\n    return (\n      <div className={`\n        Header--mobile__container\n        ${this.state.opened && 'Header--mobile__container--opened'}\n      `}>\n        {this.renderHeader('Header--mobile',\n          <div className='Header--mobile__children'>\n            <div className='row d-md-none'>\n              <div className='col-4 px-4'>\n                {this.renderControls()}\n              </div>\n            </div>\n            <div className='row'>\n              <div className='col-4 px-4 color-white'>\n                {camelize(getMessage(this, 'Program.name'))}\n              </div>\n            </div>\n            <div className='row'>\n              <div className='col-4 px-4'>\n                {mappedMobileHeaderLinks.slice(0, 5)}\n                <br />\n                <br />\n                {mappedMobileHeaderLinks[5]}\n              </div>\n            </div>\n            <div className='row'>\n              <div className='col-4 px-4'>\n                <FormattedMessage id='Festival.name' />\n              </div>\n            </div>\n            <div className='row mb-auto'>\n              <div className='col-4 col-md-6 px-4'>\n                {mappedMobileHeaderLinks.slice(6, 10)}\n                <br className='d-block d-md-none' />\n                {mappedMobileHeaderLinks[10]}\n              </div>\n            </div>\n\n            <div className='row'>\n              <div className='col-4 col-md-6 flex-nowrap px-4'>\n                {mappedMobileHeaderLinks.slice(12, 14)}\n                <br className='d-block d-md-none' />\n                <br className='d-block d-md-none' />\n                {mappedMobileHeaderLinks.slice(14, 16)}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    )\n  }\n\n  render = () =>\n    <>\n      {this.renderHeader()}\n      {this.renderHeader(`Header--fixed ${(this.state.scrollingUp) && \"Header--fixed--show\"}`)}\n      {this.renderOpenedMobileHeader()}\n    </>\n}\n\n\nexport default withRouter(Header)","import React from 'react'\n\nimport ResizeObserver from 'resize-observer-polyfill'\n\nimport { File } from './Store/Types/contentfulTypes'\n\n\ntype Props = {\n  src?: string\n  className?: string\n  file?: File | undefined\n  alt?: string\n  noCrop?: boolean\n  urlParams?: string\n}\n\ntype State = {\n  portrait: boolean | undefined,\n  containerRatio: number,\n}\n\n\nclass Img extends React.Component<Props, State> {\n  state = {\n    portrait: undefined,\n    containerRatio: 0,\n  }\n\n  imgRef: any = React.createRef()\n  containerRef: any = React.createRef()\n  resizeObs: any\n\n  componentDidMount = () =>\n    this.resizeObs = new ResizeObserver(this.setOrientation.bind(this))\n      .observe(this.containerRef.current)\n\n  setOrientation = () =>\n    this.setState({\n      portrait: this.containerRef?.current?.offsetWidth / this.containerRef?.current?.offsetHeight >\n        this.imgRef?.current?.width / this.imgRef?.current?.height\n    })\n\n  render = () =>\n    <div\n      ref={this.containerRef}\n      className={`\n        Img\n        ${this.props.className}\n        ${typeof this.state.portrait === \"undefined\" && \"Img--hidden\"}\n      `}\n    >\n      <img\n        ref={this.imgRef}\n        alt={this.props.alt || this.props?.file?.file?.fileName || ''}\n        src={`${this.props.src || this.props?.file?.file?.url || ''}${this.props.urlParams || ''}`}\n        className={`Img__img Img__img--${!this.props.noCrop && (this.state.portrait ? \"portrait\" : \"landscape\")}`}\n        onLoad={this.setOrientation}\n      />\n    </div>\n}\n\n\nexport default Img","import React from 'react'\n\nimport FormattedMessage from './FormattedMessage'\nimport Link from './Link'\nimport Img from './Img'\nimport { getSubLinks } from '../utils/routeUtils'\nimport { Context } from './Store'\n\n\nconst links = [\n  ...getSubLinks('/program'),\n  {\n    to: '/schedule',\n    id: 'Schedule.name'\n  },\n  ...getSubLinks('/festival'),\n\n  {\n    to: 'https://vk.com/tochkadostupa',\n    id: 'Vkontakte'\n  },\n  {\n    to: 'https://www.facebook.com/tochkadostupa',\n    id: 'Facebook'\n  },\n  {\n    to: 'https://www.instagram.com/tochkadostupaspb/',\n    id: 'Instagram'\n  },\n  {\n    to: 'https://www.youtube.com/channel/UCcDBr-1T4dsTQO5xYmaalYg',\n    id: 'Youtube'\n  },\n\n  {\n    to: '/privacy',\n    id: 'Privacy.name'\n  },\n  {\n    to: '/details',\n    id: 'Details.name'\n  },\n  {\n    to: '/volunteers',\n    id: 'Volunteers.name'\n  },\n]\nconst mappedLinks = [\n  ...links.slice(0, 7),\n  {\n    to: '/festival/about/projects',\n    id: 'Festival.pages.About.pages.Projects.name'\n  },\n  ...links.slice(7)\n].map(link =>\n  <Link\n    key={link.id}\n    to={link.to}\n    className=\"Footer__link Footer__link--regular\"\n  >\n    <FormattedMessage id={link.id} />\n  </Link>)\n\n\nclass Footer extends React.Component {\n\n  static contextType = Context\n\n  render = () => {\n    const footer = this?.context?.contentful?.footers?.[0]\n\n    return (\n      <footer className=\"Footer\">\n        <div className=\"Footer__container\">\n          <div className=\"Footer__links\">\n            <div className=\"Footer__links__1\">\n              <Link to='/' className=\"Footer__links__home\" >\n                <div className=\"Footer__links__home__logo\" />\n                <FormattedMessage\n                  className=\"Footer__links__home__title\"\n                  id='AccessPoint'\n                />\n              </Link>\n            </div>\n            <div className=\"Footer__links__2\">\n              <FormattedMessage\n                id='Program.name'\n                className='Footer__link Footer__link--title'\n              />\n              {mappedLinks.slice(0, 3)}\n              {mappedLinks[4]}\n              <div className=\"Footer__link Footer__link--regular\" />\n              {mappedLinks[5]}\n            </div>\n            <div className=\"Footer__links__3\">\n              <FormattedMessage\n                id='Festival.name'\n                className='Footer__link Footer__link--title'\n              />\n              {mappedLinks.slice(6, 12)}\n              {mappedLinks[18]}\n            </div>\n            <div className=\"Footer__links__divider\" />\n            <div className=\"Footer__links__4\">\n              <FormattedMessage\n                id='Footer.media'\n                className='Footer__link Footer__link--title'\n              />\n              {mappedLinks.slice(12, 16)}\n              {/* <div\n                // className=\"apple-business-chat-message-container\"\n                // data-apple-business-id=\"ca0db090 8a22d77b-57a0-4f68-846e-e0b85b3655f2\"\n                // data-apple-icon-color=\"#000000\"\n                // data-apple-icon-background-color=\"#00FF19\"\n                // data-apple-icon-scale=\"1.7\"\n                // data-apple-icon-title=\"Style questions? We can help.\"\n                className=\"apple-business-chat-message-container\"\n                data-apple-business-id=\"8a22d77b-57a0-4f68-846e-e0b85b3655f2\"\n                data-apple-icon-color=\"#1B3F68\"\n                data-apple-icon-background-color=\"#1B3F68\"\n                data-apple-icon-scale=\"1.7\"\n                data-apple-icon-title=\"Style questions? We can help.\"              />\n            </div> */}\n              <div\n                className=\"apple-business-chat-message-container\"\n                data-apple-business-id=\"8a22d77b-57a0-4f68-846e-e0b85b3655f2\"\n                data-apple-icon-color=\"#000000\"\n                data-apple-icon-background-color=\"#00FF19\"\n                data-apple-icon-scale=\"1\"\n                data-apple-icon-title=''\n              ></div>\n\n            </div>\n          </div>\n          <div className=\"Footer__contacts\">\n            <div className=\"Footer__contacts__1\">\n              <Link to='tel:+78126499206' className='Footer__link Footer__link--email'>\n                +7 (812) 649 92 06\n              </Link>\n              <Link to='mailto:info@tochkadostupa.spb.ru' className='Footer__link Footer__link--email'>\n                info@tochkadostupa.spb.ru\n              </Link>\n            </div>\n            <div className=\"Footer__contacts__2\">\n              <FormattedMessage\n                className=\"p--m\"\n                id=\"Footer.address\"\n              />\n            </div>\n            <div className=\"Footer__contacts__divider\" />\n            <div className=\"Footer__contacts__3\">\n              {mappedLinks[16]}\n            </div>\n            <div className=\"Footer__contacts__divider\" />\n            <div className=\"Footer__contacts__4\">\n              {mappedLinks[17]}\n            </div>\n          </div>\n          <div className=\"Footer__disclaimer\">\n            <div className='p p--xs col-4 col-md-6 col-lg-9 pb-xs'>\n              {footer?.disclaimer}\n            </div>\n            <div className='col-3 col-md-3 col-lg-3 mx-auto mx-lg-0'>\n              <Link to={footer?.covidLink}>\n                <Img\n                  file={footer?.covidImg}\n                  className='w-100'\n                />\n              </Link>\n            </div>\n          </div>\n        </div>\n      </footer>\n    )\n  }\n}\n\n\nexport default Footer","const encodeUrlParams = (params: object) => \n  new URLSearchParams((params as URLSearchParams)).toString()\n\n\nexport default encodeUrlParams","import React from 'react'\n\nimport { Person } from './Store/Types'\nimport Img from './Img'\nimport encodeUrlParams from '../utils/encodeUrlParams'\n\n\ntype Props = {\n  curators: Person[] | undefined\n  className?: string\n  S?: boolean\n  M?: boolean\n  L?: boolean\n}\n\n\nclass CuratorsAvatars extends React.Component<Props, {}> {\n\n  getSideSize = () =>\n    this.props.S ?\n      160\n      :\n      this.props.M ?\n        280\n        :\n        384\n\n  render = () =>\n    <div className={`\n      CuratorsAvatars\n      ${this.props.className}\n      ${this.props.S && 'CuratorsAvatars--S'}\n      ${this.props.M && 'CuratorsAvatars--M'}\n      ${this.props.L && 'CuratorsAvatars--L'}\n    `}>\n      {this.props?.curators\n        ?.slice(0, 2)\n        ?.map((curator: Person) =>\n          <div\n            key={curator.id}\n            className='CuratorsAvatars__item'\n          >\n            <Img\n              className='CuratorsAvatars__item__avatar'\n              file={curator?.avatar}\n              urlParams={`?fit=fill&${encodeUrlParams({\n                w: this.getSideSize(),\n                h: this.getSideSize()\n              })}`}\n            />\n          </div>\n        )}\n    </div>\n}\n\n\nexport default CuratorsAvatars","import React from 'react'\n\nimport { format } from 'date-fns'\n\nimport Link from '../../Link'\nimport Img from '../../Img'\nimport {\n  Online,\n  Offline,\n  Age,\n} from '../../buttons'\nimport {\n  Person,\n  Spekt\n} from '../../Store/Types'\nimport CuratorsAvatars from '../../CuratorsAvatars'\nimport FormattedMessage from '../../FormattedMessage'\n\n\ninterface Props extends Spekt {\n  onClick?(e: any): void\n  className?: string\n  linkDisabled?: boolean\n  avatarsL?: boolean\n  avatarsM?: boolean\n  avatarsS?: boolean\n  style?: object\n  outerRef?: any\n}\n\n\nconst SpektCard: React.FunctionComponent<Props> = (spekt: Props) =>\n  <Link\n    outerRef={spekt.outerRef}\n    // to={spekt.link}\n    to={`/spekt/${spekt.link}`}\n    className={`SpektCard ${spekt.className}`}\n    disabled={spekt.linkDisabled}\n    onClick={(e: any) => spekt.onClick?.(e)}\n    style={spekt.style}\n  >\n    <div className=\"SpektCard__name\">\n      {spekt.name}\n    </div>\n    <div className=\"SpektCard__makers\">\n      {(spekt?.personsObj\n        ?.map((person: Person) =>\n          <>{person.name}&nbsp;{person.surname}</>)\n      || spekt?.persons?.split(', '))\n        ?.map((maker: JSX.Element | string) =>\n          <div\n            className=\"SpektCard__makers__item\"\n          >\n            {maker}\n          </div>\n        )\n        ?.reduce((a, b) => <>{a}, {b}</>\n      )}\n    </div>\n    {spekt.shortDesc &&\n      <div className=\"SpektCard__short-desc\">\n        {spekt.shortDesc}\n      </div>\n    }\n    {spekt?.personsObj &&\n      <div className='p p--s mb-xxs'>\n        {(() => {\n          const date = new Date(spekt.ticketsAndSchedule?.tickets?.[0]?.tickets?.[0]?.datetime || '')\n\n          return <>\n            {format(date, 'dd.MM')} / <FormattedMessage id='Program.startAt' /> {format(date, 'HH:mm')}\n          </>\n        })()}\n      </div>\n    }\n\n    <div className=\"SpektCard__buttons\">\n      {spekt.offline && <Offline />}\n      {spekt.online && <Online />}\n      {spekt.age && <Age text={spekt.age} />}\n    </div>\n\n    {spekt?.personsObj ?\n      <CuratorsAvatars\n        L={spekt.avatarsL}\n        M={spekt.avatarsM ? true : !(spekt.avatarsL || spekt.avatarsS)}\n        S={spekt.avatarsS}\n        curators={spekt.personsObj}\n      />\n      :\n      <Img\n        src={`${spekt?.cover?.file?.url}?fit=fill&w=587&h=356`}\n        className=\"SpektCard__cover\"\n      />\n    }\n  </Link>\n\n\nexport default SpektCard","import React from 'react'\n\nimport FormattedMessage from '../../components/FormattedMessage'\nimport Link from '../../components/Link'\n\n\nclass FestivalPass extends React.Component<{}, {}> {\n\n  state = {\n    scroll: 0\n  }\n\n  elementRef: any = React.createRef()\n\n  componentDidMount = () =>\n    window.addEventListener('scroll', () => this.updateScroll())\n\n  componentWillUnmount = () =>\n    window.removeEventListener('scroll', () => this.updateScroll())\n\n  updateScroll = () =>\n    this.setState({\n      scroll: Math.floor(this.elementRef?.current?.getBoundingClientRect().bottom / 3)\n    })\n\n  render = () =>\n    <Link\n      outerRef={this.elementRef}\n      to='https://special.tochkadostupa.spb.ru/abonement'\n      className='FestivalPass FestivalPass--Home mb-m mb-md-l mb-lg-xl pt-0 pb-3 pt-md-2 pb-md-xs pt-lg-2 pb-lg-m'\n    >\n      <div className='FestivalPass--Home__content'>\n        <div\n          style={{\n            left: `-${window.innerWidth >= 768 ? this.state.scroll : 100}px`\n          }}\n          className='FestivalPass--Home__content__container FestivalPass--Home__content__container--1'\n        >\n          <div className='d-flex flex-row align-items-center pb-0 pb-md-xxs pb-lg-xs'>\n            <div className='FestivalPass--Home__h1'>\n              <FormattedMessage id='Home.festivalPass.2' />\n            </div>\n            <div className='FestivalPass--Home__desc'>\n              <FormattedMessage id='Home.festivalPass.desc' />\n            </div>\n            <div className='FestivalPass--Home__h1'>\n              <FormattedMessage id='Home.festivalPass.1' />\n            </div>\n            <div className='FestivalPass--Home__desc'>\n              <FormattedMessage id='Home.festivalPass.desc' />\n            </div>\n            <div className='FestivalPass--Home__h1'>\n              <FormattedMessage id='Home.festivalPass.1' />\n            </div>\n          </div>\n        </div>\n        <div\n          style={{\n            left: `${window.innerWidth >= 768 ? (this.state.scroll - 500) : -100}px`\n          }}\n          className='FestivalPass--Home__content__container FestivalPass--Home__content__container--2'\n        >\n          <div className='d-flex flex-row align-items-center pb-0 pb-md-xxs pb-lg-xs'>\n            <div className='FestivalPass--Home__h1'>\n              <FormattedMessage id='Home.festivalPass.1' />\n            </div>\n            <div className='FestivalPass--Home__h1 font-spectral'>\n              <FormattedMessage id='Home.festivalPass.price' />\n            </div>\n            <div className='FestivalPass--Home__h1'>\n              <FormattedMessage id='Home.festivalPass.2' />\n            </div>\n          </div>\n        </div>\n        <div\n          // style={{\n          //   left: `-${this.state.scroll}px`\n          // }}\n          className='FestivalPass--Home__content__container FestivalPass--Home__content__container--3'\n        >\n          <div className='d-flex flex-row align-items-center pb-0 pb-md-xxs pb-lg-xs'>\n            <div className='FestivalPass--Home__h1 d-none d-sm-block'>\n              <FormattedMessage id='Home.festivalPass.1' />\n            </div>\n            <div className='FestivalPass--Home__buy'>\n              <FormattedMessage id='Home.festivalPass.buy' />\n            </div>\n            <div className='FestivalPass--Home__h1 d-none d-sm-block'>\n              <FormattedMessage id='Home.festivalPass.2' />\n            </div>\n          </div>\n        </div>\n        <div className='container d-md-none'>\n          <div className='row'>\n            <div className='col py-3'>\n              <div className='FestivalPass--Home__buy w-100'>\n                <FormattedMessage id='Home.festivalPass.buy' />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Link>\n}\n\n\nexport default FestivalPass","const copyToClipboard = (str: string) => {\n  const el = document.createElement('textarea')\n\n  el.value = str\n  document.body.appendChild(el)\n  el.select()\n  document.execCommand('copy')\n  document.body.removeChild(el)\n}\n\n\nexport default copyToClipboard","import React from 'react'\n\nimport FormattedMessage from '../FormattedMessage'\n\nimport copyToClipboard from '../../utils/copyToClipboard'\n\n\nclass Spekt extends React.Component {\n\n  state = {\n    showTooltip: false\n  }\n\n  hideTooltipTimeout: any = -1\n\n  copyToClipboard = () => {\n    copyToClipboard('35')\n    \n    this.setState({\n      showTooltip: true\n    })\n    \n    if (this.hideTooltipTimeout !== -1)\n      clearTimeout(this.hideTooltipTimeout)\n    this.hideTooltipTimeout = setTimeout(\n      () => {\n        this.setState({ showTooltip: false})\n        this.hideTooltipTimeout = -1\n      }\n      , 2000)\n  }\n\n  render = () =>\n    <div className='FestivalPass FestivalPass--Spekt'>\n      <div className='FestivalPass--Spekt__text'>\n        <FormattedMessage id='Spekt.FestivalPass.desc' />\n        <div\n          className='FestivalPass--Spekt__text__promocode'\n          onClick={() => this.copyToClipboard()}\n        >\n          <u>35</u>\n        </div>\n        {this.state.showTooltip &&\n          <div className='FestivalPass--Spekt__text__tooltip'>\n            <FormattedMessage id='Spekt.FestivalPass.tooltip' />\n          </div>\n        }\n      </div>\n      <div className='p p--s'>\n        <FormattedMessage id='Spekt.FestivalPass.noReturns' />\n      </div>\n    </div>\n}\n\n\nexport default Spekt","import React from 'react'\n\nimport FormattedMessage from '../FormattedMessage'\nimport Link from '../Link'\n\n\nclass Schedule extends React.Component {\n\n  render = () =>\n    <div className='FestivalPass FestivalPass--Schedule'>\n      <div className='col-4 col-md-2 col-lg-4'>\n        <div className='FestivalPass--Schedule__h1'>\n          <FormattedMessage id='Home.festivalPass.1' />\n        </div>\n      </div>\n      <div className='col-4 col-md-2 col-lg-4'>\n        <div className='FestivalPass--Schedule__small'>\n          <FormattedMessage id='Schedule.festivalPassDesc' />\n        </div>\n      </div>\n      <div className='col-4 col-md-2 col-lg-4'>\n        <Link\n          to='https://special.tochkadostupa.spb.ru/abonement'\n          className='FestivalPass--Schedule__button'\n        >\n          <FormattedMessage id='Home.festivalPass.buy' />\n        </Link>\n      </div>\n    </div>\n}\n\n\nexport default Schedule","const validateEmail = (email: string) =>\n  /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n    .test(String(email).toLowerCase())\n\n\nexport default validateEmail","import React from 'react'\n\nimport axios from 'axios'\n\nimport FormattedMessage from './FormattedMessage'\nimport { Context } from './Store'\nimport { getMessage } from './Store/locale'\nimport validateEmail from '../utils/validateEmail'\n\n\ntype State = {\n  input: string\n  buttonStatus: string\n  scroll: number\n}\n\n\nclass Subscribe extends React.Component<{}, State> {\n\n  state: State = {\n    input: '',\n    buttonStatus: '',\n    scroll: 0,\n  }\n\n  elementRef: any = React.createRef()\n\n  clearFieldsTimeout: any\n\n  static contextType = Context\n\n  componentDidMount = () =>\n    window.addEventListener('scroll', () => this.updateScroll())\n\n  componentWillUnmount = () =>\n    window.removeEventListener('scroll', () => this.updateScroll())\n\n  updateScroll = () =>\n    this.setState({\n      scroll: Math.floor(this.elementRef?.current?.getBoundingClientRect().bottom / 3)\n    })\n    \n  post = async () => {\n    if (!validateEmail(this.state.input)) {\n      this.setState({ buttonStatus: 'Error' })\n      this.clearFieldsTimeout = setTimeout(() => this.setState({ buttonStatus: '' }), 2555)\n      return\n    }\n\n    this.setState({ buttonStatus: 'Loading' })\n\n    const res = await axios.post(\n      'https://api.tochkadostupa.spb.ru/subscribe',\n      { email: this.state.input }\n    )\n\n    console.log(res.data)\n    if (res.data?.result?.person_id) {\n      this.setState({ buttonStatus: 'Done' })\n      this.clearFieldsTimeout = setTimeout(() => this.setState({ input: '', buttonStatus: '' }), 2555)\n    } else {\n      this.setState({\n        buttonStatus: 'Error'\n      })\n      this.clearFieldsTimeout = setTimeout(() => this.setState({ buttonStatus: '' }), 2555)\n    }\n  }\n\n  render = () =>\n    <div\n      ref={this.elementRef}\n      className='Subscribe mb-m mb-md-l mb-lg-xl pt-0 pb-3 pt-md-2 pb-md-xs pt-lg-2 pb-lg-m'\n    >\n      <div className='Subscribe__content'>\n        <div\n          className='Subscribe__content__container'\n          style={{\n            left: `-${window.innerWidth >= 768 ? this.state.scroll : 55}px`\n          }}\n        >\n          <div className='d-flex flex-row d-sm-none py-2'>\n            <div className='p p--xxxl mr-2'><FormattedMessage id='Home.subscribe.newsletter' /></div>\n            <div className='p p--xxxl mr-2'><FormattedMessage id='Home.subscribe.newsletter' /></div>\n            <div className='p p--xxxl mr-2'><FormattedMessage id='Home.subscribe.newsletter' /></div>\n            <div className='p p--xxxl mr-2'><FormattedMessage id='Home.subscribe.newsletter' /></div>\n            <div className='p p--xxxl mr-2'><FormattedMessage id='Home.subscribe.newsletter' /></div>\n            <div className='p p--xxxl mr-2'><FormattedMessage id='Home.subscribe.newsletter' /></div>\n            <div className='p p--xxxl mr-2'><FormattedMessage id='Home.subscribe.newsletter' /></div>\n          </div>\n          <div className='d-flex flex-row align-items-center pb-0 pb-md-xs pb-lg-m py-2'>\n            <div className='Subscribe__h1 d-none d-sm-block'>\n              <FormattedMessage id='Home.subscribe.newsletter' />\n            </div>\n            <div className='Subscribe__desc'>\n              <FormattedMessage id='Home.subscribe.desc' />\n            </div>\n            <div className='Subscribe__h1 d-none d-sm-block'>\n              <FormattedMessage id='Home.subscribe.newsletter' />\n            </div>\n            <div className='Subscribe__desc'>\n              <FormattedMessage id='Home.subscribe.desc' />\n            </div>\n            <div className='Subscribe__h1 d-none d-sm-block'>\n              <FormattedMessage id='Home.subscribe.newsletter' />\n            </div>\n            <div className='Subscribe__desc'>\n              <FormattedMessage id='Home.subscribe.desc' />\n            </div>\n            <div className='Subscribe__desc'>\n              <FormattedMessage id='Home.subscribe.desc' />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className='container'>\n        <div className='row d-flex flex-column flex-md-row'>\n          <div className='col-4 col-md-4 col-lg-7 col-xl-8'>\n            <input\n              className={`Subscribe__input Subscribe__input--${this.state.buttonStatus} mb-2 mb-md-0`}\n              value={this.state.input}\n              onChange={e => {\n                this.setState({\n                  input: e.target.value,\n                  buttonStatus: ''\n                })\n                clearTimeout(this.clearFieldsTimeout)\n              }}\n              placeholder={getMessage(this, 'Home.subscribe.placeholder')}\n            />\n          </div>\n          <div className='col-4 col-md-2 col-lg-5 col-xl-4'>\n            <button\n              className='Subscribe__submit'\n              onClick={this.post}\n              disabled={this.state.buttonStatus !== ''}\n            >\n              <FormattedMessage id={`Home.subscribe.submit`} />\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n}\n\n\nexport default Subscribe","import React from 'react'\n\nimport Img from '../components/Img'\nimport Link from '../components/Link'\nimport { Spekt } from '../components/Store/Types'\nimport FormattedMessage from '../components/FormattedMessage'\nimport { Context } from '../components/Store'\n\n\nclass Laba extends React.Component {\n\n  static contextType = Context\n\n  renderLaba = (laba: Spekt) =>\n    <div className='container pb-m pb-md-l pb-lg-xl'>\n      <div className='row'>\n        <div className='col mb-xxs mb-md-xs'>\n          <h2 className='h2 h2--underline mb-3 mb-md-4'>\n            <FormattedMessage id='Home.Laba.name' />\n          </h2>\n        </div>\n      </div>\n      <div className='row d-flex flex-column flex-md-row align-items-stretch'>\n        <div className='col-4 col-md-3 col-lg-8 order-2'>\n          <Img\n            className='Home__Laba__Img'\n            file={laba.cover}\n          />\n        </div>\n        <div className='col-4 col-md-3 col-lg-4 d-flex flex-column order-1 order-md-3'>\n          <h3 className='h3 mb-0'>\n            {laba.name}\n          </h3>\n          <div className='p p--m font-spectral mb-3 mb-md-4'>\n            <FormattedMessage id='Home.Laba.datetime' />\n          </div>\n          <div className='p p--s mb-xxs mb-md-0'>\n            {laba.shortDesc}\n          </div>\n          <Link\n            to={`/spekt/${laba.link}`}\n            className='button button--secondary mt-auto d-none d-md-block'\n          >\n            <FormattedMessage id='Spekt.FestivalPass.more' />\n          </Link>\n        </div>\n      </div>\n    </div>\n\n  render = () => {\n    const laba: Spekt = this?.context?.contentful?.spekts?.find?.((spekt: Spekt) => spekt.link === 'laboratoriagranits')\n\n    return !laba ? '' :\n      <>\n        <Link\n          to={`/spekt/${laba.link}`}\n          className='Home__Laba d-block d-md-none'\n        >\n          {this.renderLaba(laba)}\n        </Link>\n        <div className='Home__Laba d-none d-md-block'>\n          {this.renderLaba(laba)}\n        </div>\n      </>\n  }\n}\n\n\nexport default Laba","import React from 'react'\n\nimport ResizeObserver from 'resize-observer-polyfill'\n\nimport { File } from '../components/Store/Types'\nimport FormattedMessage from './FormattedMessage'\nimport Link from './Link'\nimport LogoWithText from './LogoWithText'\nimport encodeUrlParams from '../utils/encodeUrlParams'\nimport { Context } from '../components/Store'\n\n\ntype Props = {\n  imgs: File[]\n}\ntype State = {\n  scroll: number\n  blockHeight: number\n}\n\n\nconst maxImgs = 3\n\n\nclass KeyVisual extends React.Component<Props, State> {\n\n  static contextType = Context\n\n  state = {\n    scroll: 0,\n    blockHeight: 0\n  }\n\n  elementRef: any = React.createRef()\n  resizeObs: any\n  randomIndexes: number[] = []\n\n  componentDidMount = () => {\n    window.addEventListener('scroll', () => this.updateScroll())\n    this.resizeObs = new ResizeObserver(this.updateContentHeight.bind(this))\n      .observe(this.elementRef.current)\n  }\n\n  componentWillUnmount = () =>\n    window.removeEventListener('scroll', () => this.updateScroll())\n\n  updateScroll = () =>\n    this.setState({\n      scroll: window.scrollY\n    })\n\n  updateContentHeight = () =>\n    this.setState({\n      blockHeight: this.elementRef?.current?.clientHeight\n    })\n\n\n  renderBlock = () =>\n    <div className='KeyVisual__block'>\n      <div className='KeyVisual__block__container'>\n        <div className='KeyVisual__block__name'>\n          <FormattedMessage id='Home.keyvisual.name' />\n        </div>\n        <div className='KeyVisual__block__dates'>\n          <FormattedMessage id='Home.keyvisual.dates' />\n        </div>\n        <div className='w-100 my-auto d-flex flex-row justify-content-center'>\n          <LogoWithText />\n        </div>\n        <Link to='/schedule'>\n          <div className='p p--m text-uppercase'>\n            <FormattedMessage id='Home.keyvisual.tickets' />\n          </div>\n        </Link>\n      </div>\n    </div>\n\n  render = () => {\n    if (this.context.ready && this.randomIndexes.length === 0)\n      this.randomIndexes = this.props.imgs\n        ?.sort(() => Math.random() - .5)\n        ?.slice(3)\n        ?.map((img: File, index: number) => index)\n\n    return (\n      <div\n        className='KeyVisual'\n        ref={this.elementRef}\n      >\n        <div\n          className='KeyVisual__container'\n          style={{\n            left: `-${(this.state.blockHeight / 2) + this.state.scroll / 1.5}px`\n          }}\n        >\n          {this.context.ready && this.randomIndexes?.map((randomIndex: number) =>\n            <>\n              <div className='KeyVisual__block'>\n                <img\n                  style={{\n                    width: '100%',\n                    height: 'auto'\n                  }}\n                  alt={this.props.imgs[randomIndex].file.fileName}\n                  src={`${this.props.imgs[randomIndex].file.url}?fit=fill&${encodeUrlParams({\n                    w: 684,\n                    h: 684\n                  })}`}\n                />\n              </div>\n              {this.renderBlock()}\n            </>\n          )}\n        </div>\n      </div>\n    )\n  }\n}\n\n\nexport default KeyVisual","import React from 'react'\n\nimport { Context } from '../components/Store'\nimport {\n  Sponsor,\n  SponsorType,\n  SponsorTypeLine,\n} from '../components/Store/Types'\nimport Img from '../components/Img'\n\n\nclass Sponsors extends React.Component {\n\n  static contextType = Context\n\n  renderImg = (sponsor: Sponsor, className?: string) =>\n    sponsor &&\n      <Img\n        file={sponsor.logo[0]}\n        className={`w-100 ${className}`}\n        noCrop\n      />\n\n  render6 = (sponsorType?: SponsorType, withTitles?: boolean, className?: string) =>\n    sponsorType &&\n      <div className={`container ${className}`}>\n        <div className='row d-flex flex-row flex-wrap'>\n          {sponsorType?.sponsors?.map((sponsor: Sponsor) =>\n            <div className='col-2 col-md-2 col-lg-2 d-flex flex-column align-self-stretch justify-content-between'>\n              {withTitles &&\n                <div className='p p--m mb-4 mb-md-xs'>\n                  {sponsor.title}\n                </div>\n              }\n              {this.renderImg(sponsor, withTitles ? '' : 'mb-4 mb-lg-xs')}\n            </div>\n          )}\n        </div>\n      </div>\n\n  render = () => {\n    const page: any & {\n      sponsorsTypesLines: (SponsorTypeLine | SponsorTypeLine)[]\n    } = this?.context?.contentful?.homepages?.[0]\n\n    return !page ? '' :\n      <>\n        <div className='container'>\n          <div className='row mb-0 mb-md-3 mb-lg-0'>\n            <div className='col'>\n              <h2 className='h2 h2--underline'>\n                {page.partnersTitle}\n              </h2>\n            </div>\n          </div>\n        </div>\n\n        <div className='container mb-s mb-md-m'>\n          <div className='row d-flex flex-row flex-wrap'>\n            {page.sponsorsTypesLines?.[0]?.sponsors?.map((sponsor: Sponsor) =>\n              <div className='col-2 col-md-3 col-lg-4'>\n                {this.renderImg(sponsor)}\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className='container'>\n          <div className='row'>\n            <div className='col-4 col-md-5 col-lg-8'>\n              <div className='p p--xl'>\n                {page.sponsorsTypesLines?.[1]?.name}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className='container mb-s mb-md-m'>\n          <div className='row d-flex flex-row flex-wrap'>\n            <div className='col-2 col-md-3 col-lg-4'>\n              {this.renderImg(page.sponsorsTypesLines?.[1]?.sponsors?.[0])}\n            </div>\n          </div>\n        </div>\n\n        <div className='container mb-4 mb-md-s'>\n          <div className='row'>\n            <div className='col-4 col-md-5 col-lg-8'>\n              <div className='p p--xl'>\n                {page.sponsorsTypesLines?.[2]?.name}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className='container'>\n          <div className='row d-flex flex-row flex-wrap'>\n            <div className='col-2 col-md-3 col-lg-4'>\n              {this.renderImg(page.sponsorsTypesLines?.[2]?.sponsors?.[0])}\n            </div>\n          </div>\n        </div>\n        <div className='container mb-s mb-md-m'>\n          <div className='row'>\n            <div className='col'>\n              <div className='delimeter' />\n            </div>\n          </div>\n        </div>\n\n        {this.render6(page.sponsorsTypesLines?.[3], true, 'mb-s mb-md-m')}\n        {this.render6(page.sponsorsTypesLines?.[4], true, 'mb-s mb-md-m')}\n        <div className='container mb-s mb-md-m'>\n          <div className='row'>\n            <div className='col'>\n              <div className='delimeter' />\n            </div>\n          </div>\n        </div>\n\n        <div className='container mb-4 mb-md-s'>\n          <div className='row'>\n            <div className='col-4 col-md-5 col-lg-8'>\n              <div className='p p--xl'>\n                {page.sponsorsTypesLines?.[5]?.name}\n              </div>\n            </div>\n          </div>\n        </div>\n        {this.render6(page.sponsorsTypesLines?.[5], false, 'mb-s mb-md-m')}\n        <div className='container mb-s mb-md-m'>\n          <div className='row'>\n            <div className='col'>\n              <div className='delimeter' />\n            </div>\n          </div>\n        </div>\n\n        <div className='container mb-s mb-md-m'>\n          <div className='row'>\n            {page.sponsorsTypesLines?.[6]?.sponsorTypes?.map((sponsorType: SponsorType) =>\n              <div className='col-2 col-md-3 col-lg-6'>\n                <div className='row mb-4 mb-lg-xs'>\n                  <div className='col'>\n                    <div className='p p--xl'>\n                      {sponsorType.name}\n                    </div>\n                  </div>\n                </div>\n                <div className='row'>\n                  <div className='col-4 col-md-6 col-lg-6'>\n                    {this.renderImg(sponsorType.sponsors[0])}\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className='container mb-4 mb-lg-xs'>\n          <div className='row'>\n            <div className='col'>\n              <div className='p p--xl'>\n                {page.sponsorsTypesLines?.[7]?.name}\n              </div>\n            </div>\n          </div>\n        </div>\n        {this.render6(page.sponsorsTypesLines?.[7], false, '')}\n\n      </>\n  }\n}\n\n\nexport default Sponsors","import React from 'react'\n\nimport FormattedMessage from '../components/FormattedMessage'\nimport HorizontalShowcase from '../components/HorizontalShowcase'\nimport SpektCard from '../components/Views/Cards/SpektCard'\nimport Link from '../components/Link'\nimport { Context } from '../components/Store'\nimport { FestivalPass } from '../components/FestivalPass'\nimport Subscribe from '../components/Subscribe'\nimport Laba from '../components/Laba'\nimport KeyVisual from '../components/KeyVisual'\nimport Sponsors from '../components/Sponsors'\nimport { Spekt } from '../components/Store/Types'\n\n\nclass Home extends React.Component<{}, {}> {\n\n  static contextType = Context\n\n  render = () => {\n    const page = this?.context?.contentful?.homepages?.[0]\n\n    return !page ? '' :\n      <div className=\"Home\">\n        <div className=\"Home__cover\">\n          <KeyVisual imgs={page.keyvisual} />\n        </div>\n\n        <div className=\"container mb-s mb-md-l\">        \n          <div className=\"row mb-s\">\n            <div className='col-4 col-md-6 col-lg-10'>\n              <div className='p p--xxl'>\n                {page.shortDesc}\n              </div>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-4 col-md-3 col-xl-2\">\n              <Link\n                to='/festival/about'\n                className=\"button--secondary mb-3 mb-md-0\"\n              >\n                <FormattedMessage id='Festival.pages.About.name'/>\n              </Link>\n            </div>\n            <div className=\"col-4 col-md-3 col-xl-2\">          \n              <Link\n                to='/festival/archive'\n                className=\"button--secondary\"\n              >\n                <FormattedMessage id='Festival.pages.Archive.name'/>\n              </Link>\n            </div>\n          </div>\n        </div>\n        <HorizontalShowcase\n          className='HorizontalShowcase--Home'\n          L\n          arrows\n          title={\n            <>\n              <FormattedMessage id={`Program.pages.Main.name`} /> <FormattedMessage id='Program.name' />\n            </>\n          }\n          ItemComp={SpektCard}\n          items={page.main?.map((spekt: Spekt) => ({ ...spekt, linkDisabled: this.context.locale === 'eng'}))}\n          bottomLink={{\n            to: 'program/main',\n            label: <FormattedMessage id='Program.full' />\n          }}\n        />\n        {page.showFestivalPass &&\n          <FestivalPass />\n        }\n        <HorizontalShowcase\n          className='HorizontalShowcase--Home'\n          M\n          arrows\n          title={\n            <>\n              <FormattedMessage id={`Program.pages.Open.name`} /> <FormattedMessage id='Program.name' />\n            </>\n          }\n          ItemComp={SpektCard}\n          items={page.open?.map((spekt: Spekt) => ({ ...spekt, linkDisabled: this.context.locale === 'eng'}))}\n          bottomLink={{\n            to: 'program/open',\n            label: <FormattedMessage id='Program.full' />\n          }}\n        />\n        <HorizontalShowcase\n          className='HorizontalShowcase--Home pb-m pb-md-l pb-lg-xl'\n          S\n          arrows\n          title={\n            <>\n              <FormattedMessage id={`Program.pages.Educational.name`} /> <FormattedMessage id='Program.name' />\n            </>\n          }\n          ItemComp={SpektCard}\n          items={page.educational?.map((spekt: Spekt) => ({ ...spekt, linkDisabled: this.context.locale === 'eng'}))}\n          bottomLink={{\n            to: 'program/educational',\n            label: <FormattedMessage id='Program.full' />\n          }}\n        />\n        <HorizontalShowcase\n          className='HorizontalShowcase--Home pb-m pb-md-l pb-lg-xl'\n          S\n          arrows\n          title={\n            <>\n              <FormattedMessage id={`Program.pages.Friends.name`} />\n            </>\n          }\n          ItemComp={SpektCard}\n          items={page.friends?.map((spekt: Spekt) => ({ ...spekt, linkDisabled: this.context.locale === 'eng'}))}\n          bottomLink={{\n            to: 'program/friends',\n            label: <FormattedMessage id='Program.more' />\n          }}\n        />\n\n        <Laba />\n\n        {page.showSubscribe &&\n          <Subscribe />}\n\n        <Sponsors />\n        \n      </div>\n  }\n}\n\n\nexport default Home","const validatePhone = (phone: string) =>\n  /\\+7[0-9]{10}$|8[0-9]{10}$/\n    .test(String(phone).toLowerCase())\n\n\nexport default validatePhone","import React from 'react'\n\nimport _ from 'lodash'\nimport { withRouter } from 'react-router-dom'\nimport { RouteComponentProps } from 'react-router'\n\nimport Link from '../components/Link'\nimport { Context } from '../components/Store'\nimport { post } from '../utils/API'\nimport validatePhone from '../utils/validatePhone'\nimport validateEmail from '../utils/validateEmail'\n\n\ntype Props = RouteComponentProps<{\n  param1: string,\n}>\n\ntype State = {\n  emailPhoneInputString: string\n  codeInputString: string\n  stage: number\n  higlightError: boolean\n  resendCountdown: number\n}\n\n\nclass Login extends React.Component<Props, State> {\n\n  state: State = {\n    // emailPhoneInputString: 'torikowashi@gmail.com',\n    // emailPhoneInputString: '+79217406762',\n    emailPhoneInputString: '',\n    codeInputString: '',\n    stage: 0,\n    higlightError: false,\n    resendCountdown: 30,\n  }\n  \n  static contextType = Context\n\n  checkInterval: any\n  resendCountdownInterval: any\n\n  checkIfLogged = () => {\n    if (this.checkInterval) {\n      if (!_.isEmpty(this.context.user))\n        clearInterval(this.resendCountdownInterval)\n      return\n    }\n\n    let tries = 0\n\n    this.checkInterval = setInterval(() => {\n      if (!_.isEmpty(this.context.user) || tries > 10) {\n        clearInterval(this.checkInterval)\n        // if (this.props.history.location.pathname === '/login')\n          this.props.history.push('/user/tickets')\n      }\n      this.context.checkUser()\n      tries++\n    }, 500)\n  }\n\n  componentDidMount = () => this.initializeCountdown()\n\n  loginWithEmailPhone = async () => {\n    if (!validatePhone(this.state.emailPhoneInputString) && !validateEmail(this.state.emailPhoneInputString)) {\n      this.setState({ higlightError: true })\n      return\n    }\n\n    const res = await post('/login', {\n      [validatePhone(this.state.emailPhoneInputString) ? 'phone' : 'email']: this.state.emailPhoneInputString,\n      sessionToken: this?.context?.cookies?.get('sessionToken')\n    })\n\n    console.log(res)\n\n    if (!res.error) {\n      this.setState({ stage: 1 })\n      this.initializeCountdown()\n    }\n  }\n\n  initializeCountdown = () => {\n    this.setState({ resendCountdown: 30 })\n    this.resendCountdownInterval = setInterval(() => {\n      if (this.state.resendCountdown === 1)\n        clearInterval(this.resendCountdownInterval)\n\n      this.setState({ resendCountdown: this.state.resendCountdown - 1 })\n    }, 1000)\n  }\n\n  loginWithCode = async () => {\n    const res = await post('/login-with-code', {\n      [validatePhone(this.state.emailPhoneInputString) ? 'phone' : 'email']: this.state.emailPhoneInputString,\n      tmpCode: this.state.codeInputString,\n      sessionToken: this?.context?.cookies?.get('sessionToken')\n    })\n\n    console.log(res)\n\n    if (res.hasOwnProperty('user'))\n      this?.context?.setState({ user: res.user })\n  }\n\n\n  renderStage0 = (page: any) =>\n    <div className=\"Login__container\">\n      <div className=\"Login__main\">\n        <div className=\"Login__main__h2\">\n          {page.name}\n        </div>\n        <div className='text-center p p--m my-s'>\n          {page.loginDesc}\n        </div>\n        <div className=\"Login__main__controls\">\n          <input\n            className={`Login__input ${this.state.higlightError && 'Login__input--error'}`}\n            value={this.state.emailPhoneInputString}\n            onChange={e => this.setState({\n              emailPhoneInputString: e.target.value.replace(/[^(A-Z|a-z|0-9.@+)]+/g, ''),\n              higlightError: false,\n            })}\n            placeholder={page.loginPlaceholder}\n          />\n          <button\n            className='button button--main pt-0'\n            onClick={this.loginWithEmailPhone}\n          >\n            {page.getPassword}\n          </button>\n        </div>\n      </div>\n      <div className='d-flex flex-row align-items-center'>\n        <div className='delimeter' />\n        <div className='Login__small'>\n            \n        </div>\n        <div className='delimeter' />\n      </div>\n      <Link\n        className=\"Login__main__controls__button\"\n        to={`https://t.me/AccessPointBot?start=${this.context.sessionToken}`}\n        disabled={!this.context.sessionToken}\n        onClick={() => this.checkIfLogged()}\n      >\n        Telegram\n      </Link>\n    </div>\n\n  renderStage1 = (page: any) =>\n    <div className=\"Login__container\">\n      <div className=\"Login__main\">\n        <div\n          className='Login__main__back'\n          onClick={() => this.setState({ stage: 0 })}\n        >\n          {page.back}\n        </div>\n        <div className=\"Login__main__h2\">\n          {page.name}\n        </div>\n        <div className='text-center p p--m my-s'>\n          {page.getPasswordDesc}\n        </div>\n        <div className=\"Login__main__controls\">\n          <input\n            className={`Login__input ${this.state.higlightError && 'Login__input--error'}`}\n            value={this.state.codeInputString}\n            onChange={e => this.setState({\n              codeInputString: e.target.value.replace(/[^(0-9)]+/g, '').slice(0, 4),\n              higlightError: false,\n            })}\n            placeholder={page.codePlaceholder}\n          />\n          <button\n            className='button button--main pt-0'\n            onClick={this.loginWithCode}\n          >\n            {page.login}\n          </button>\n        </div>\n      </div>\n      <div className='d-flex flex-row align-items-center'>\n        <div className='delimeter' />\n        <div className='Login__small'>\n          {page.didntGetPassword}\n        </div>\n        <div className='delimeter' />\n      </div>\n      <button\n        className='button button--main pt-0'\n        onClick={() => {\n          this.loginWithEmailPhone()\n          this.initializeCountdown()\n        }}\n        disabled={this.state.resendCountdown > 0}\n      >\n        {this.state.resendCountdown > 0 ?\n          `${page.receiveAgain} ${this.state.resendCountdown}`\n          :\n          page.getAgain\n        }\n      </button>\n    </div>\n\n\n  render = () => {\n    if (!this?.context?.ready)\n      return ''\n\n    const page = this?.context?.contentful?.accountPages?.[0]\n\n    return (\n      <div className=\"Login\">\n        {this.state.stage === 0 && this.renderStage0(page)}\n        {this.state.stage === 1 && this.renderStage1(page)}\n      </div>\n    )\n  }\n}\n\n\nexport default withRouter(Login)","import React from 'react'\n\nimport _ from 'lodash'\n\nimport { Context } from '../../../components/Store'\nimport Login from '../../Login'\n\n\nclass Admin extends React.Component<{}, {}> {\n  \n  state = {}\n\n  static contextType = Context\n\n  asyncWrapper = async (fn: Function) => {\n    this.setState({ loading: true })\n    this.context.openPopup()\n    await fn()\n    this.setState({ loading: false })\n    this.context.closePopup()\n  }\n\n  downloadAll = async () => {\n\n  }\n  \n  render = () =>\n    _.isEmpty(this.context.user) ?\n      <Login />\n      :\n      <div className=\"Admin\">\n        <div className=\"container\">\n          <div className='row'>\n            <div className='col'>\n              <div\n                className='button button--main'\n                onClick={() => this.context.updateContentful()}\n              >\n                  contentful\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n}\n\n\nexport default Admin","const getRandomElements = (array: any[], amount: number) =>\n  array\n    .sort(() => Math.random() - .5)\n    .slice(0, amount)\n\nconst getRandomValues = (object: object & { [key: string]: any }, amount: number) =>\n  getRandomElements(Object.keys(object), amount)\n    .map(key => object[key])\n\n\nexport {\n  getRandomElements,\n  getRandomValues\n}","import React from 'react'\n\nimport { format } from 'date-fns'\nimport { ru, enUS } from 'date-fns/locale'\n\nimport {\n  Program,\n  Online,\n  Offline,\n  Age,\n} from '../../buttons'\nimport { MappedShow } from '../../Store/Types'\n\n\n\ntype Props = {\n  show: MappedShow\n  past: boolean\n  page: any\n  openShow: Function\n  locale: string\n}\n\n\nconst ShowCard: React.FunctionComponent<Props> = ({\n  show,\n  past,\n  page,\n  openShow,\n  locale\n}) =>\n  <div className='col-4 col-md-3 col-lg-4 mb-xxs'>\n    <div className={`Tickets__show ${past && 'Tickets__show--past'}`}>\n      <div className='d-flex flex-row justify-content-between'>\n        <div className='p p--l'>\n          {format(\n            show.dateObj,\n            'dd.MM / HH:mm ',\n            { locale: locale === 'rus' ? ru : enUS })}\n        </div>\n        <div className='p p--xl font-spectral'>\n          2 \n        </div>\n      </div>\n      <div className='Tickets__show__delimeter' />\n      <div className='Tickets__show__name'>\n        {show.name}\n      </div>\n      <div className='Tickets__show__persons'>\n        {show.persons}\n      </div>\n      <div className='p p--s mb-xxs'>\n        {show.shortDesc}\n      </div>\n      <div className='d-flex flex-row mt-auto mb-xxs flex-wrap'>\n        <Program\n          text={show.program?.name}\n          className='mr-2 mb-2'\n        />\n        {show.offline &&\n          <Offline\n            className='mr-2 mb-2'\n          />}\n        {show.online &&\n          <Online\n            className='mr-2 mb-2'\n          />}\n        {show.age &&\n          <Age\n            text={show.age}\n            className='mr-2 mb-2'\n          />}\n      </div>\n      {past ?\n        <div className='p p--s'>\n          {page.showIsOver}\n        </div>\n        :\n        <div\n          className='cursor-pointer p p--s p--arrow p--arrow--right'\n          onClick={() => openShow()}\n        >\n          {page.details}\n        </div>\n      }\n    </div>\n  </div>\n\n\nexport default ShowCard","import React from 'react'\n\nimport { format } from 'date-fns'\nimport { ru, enUS } from 'date-fns/locale'\nimport GoogleMapReact from 'google-map-react'\n\nimport { Context } from '../Store'\nimport {\n  Program,\n  Online,\n  Offline,\n  Age,\n} from '../buttons'\nimport { MappedShow } from '../Store/Types'\nimport FormattedMessage from '../FormattedMessage'\n\n\n\ntype Props = {\n  show: MappedShow\n  back: Function\n}\n\ntype State = {\n\n}\n\n\nconst tickets = [\n  {\n    number: 2281488,\n  },\n  {\n    number: 2281489,\n  },\n  {\n    number: 2281490,\n  },\n  {\n    number: 2281491,\n  },\n  {\n    number: 2281492,\n  },\n  {\n    number: 2281493,\n  },\n]\n\n\nclass ShowPage extends React.Component<Props, State> {\n\n  static contextType = Context\n\n  render = () => {\n    if (!this?.context?.ready)\n      return ''\n\n    const page = this?.context?.contentful?.accountPages?.[0]\n    const { show } = this.props\n\n    return (\n      <div className='ShowPage'>\n        <div className='container'>\n          <div className='row d-flex flex-column flex-lg-row'>\n            <div className='col-4'>\n              <div\n                className='p p--l p--arrow p--arrow--left cursor-pointer mb-xs mb-s'\n                onClick={() => this.props.back()}\n              >\n                <FormattedMessage id='Program.hideText' />\n              </div>\n            </div>\n\n\n            <div className='col-4 col-md-6 col-lg-8 d-flex flex-column'>\n              <div className='h2'>\n                {show.name}\n              </div>\n              <div className='p p--xxxxl font-spectral mb-xxs'>\n                {show.persons}\n              </div>\n\n              <div className='d-flex flex-row mb-xs mb-md-s'>\n                <Program\n                  text={show.program?.name}\n                  className='mr-2 mb-2'\n                />\n                {show.offline &&\n                  <Offline\n                    className='mr-2 mb-2'\n                  />}\n                {show.online &&\n                  <Online\n                    className='mr-2 mb-2'\n                  />}\n                {show.age &&\n                  <Age\n                    text={show.age}\n                    className='mr-2 mb-2'\n                  />}\n              </div>\n\n              <div className='p p--xxxl mb-xxs mb-md-xs'>\n                {format(\n                  show.dateObj,\n                  'dd.MM / iiii / HH:mm ',\n                  { locale: this.context.locale === 'rus' ? ru : enUS })}\n              </div>\n\n              <div className='row mb-m mb-md-m mb-lg-xl'>\n                <div className='col-4 col-md-3 col-lg-6'>\n                  <div className='h3'>\n                    <FormattedMessage id='Spekt.length' />\n                  </div>\n                  <div className='p p--l'>\n                    {show.length}\n                  </div>\n                </div>\n                <div className='col-4 col-md-3 col-lg-6'>\n                  <div className='h3'>\n                    <FormattedMessage id='Spekt.stage' />\n                  </div>\n                  <div className='p p--l'>\n                    {this.context.locale === 'rus' ? show.stage : show.stageEn}\n                  </div>\n                </div>\n              </div>\n\n              <div className='h3 mb-xs'>\n                {page.myTickets}\n              </div>\n              <div className='row d-flex flex-row flex-wrap'>\n                {tickets.map(ticket =>\n                  <div className='col-4 col-md-3 col-lg-6 mb-xxs'>\n                    <div className='ShowPage__ticket'>\n                      <div className='h3 mb-xs mb-xl-m'>\n                        {page.ticketNumber}{ticket.number}\n                      </div>\n                      {show.offline &&\n                        <div\n                          className='ShowPage__ticket__link'\n                          onClick={() => {}}\n                        >\n                          {page.downloadPDF}\n                        </div>}\n                      <div\n                        className='ShowPage__ticket__link'\n                        onClick={() => {}}\n                      >\n                        {page.transferTicket}\n                      </div>\n                      <div\n                        className='ShowPage__ticket__link'\n                        onClick={() => {}}\n                      >\n                        {page.returnTicket}\n                      </div>\n                      {show.online &&\n                        <div\n                          className='button button-main w-50'\n                          onClick={() => {}}\n                        >\n                          {page.start}\n                        </div>\n                      }\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              {show.online &&\n                <div className='col pink-block py-xxs py-md-xs'>\n                  <div className='row d-flex flex-row justify-content-center'>\n                    <div className='col-4 col-md-4 col-lg-9'>\n                      {page.buttonWillBeActive}\n                    </div>\n                  </div>\n                </div>\n              }\n\n              {show.online &&\n                <div className='col d-fle flex-column'>\n                  <div className='h3 mt-m mt-md-m mt-lg-xl'>\n                    {page.howToWatch}\n                  </div>\n                </div>\n              }\n\n              {show.offline &&\n                <div className='col d-fle flex-column'>\n                  <div className='h3 mt-m mt-md-m mt-lg-xl mb-xxs mb-md-xs'>\n                    {page.howToGetHere}\n                  </div>\n                  <div className='ShowPage__map-container'>\n                    <GoogleMapReact\n                      bootstrapURLKeys={{ key: \"AIzaSyDtnk19nAsbs98Rx81bCzvkF5jyD0o7W4w\" }}\n                      center={{\n                        lat: 59.925,\n                        lng: 30.331\n                      }}\n                      zoom={12}\n                      options={{\n                      //   styles: style,\n                        disableDefaultUI: true,\n                      //   maxZoom: this.props.maxZoom,\n                      //   minZoom: this.props.minZoom,\n                      //   restriction: this.props.restriction,\n                      }}\n                      // onChange={e => this.setState({ center: e.center })}\n                      // onZoomAnimationStart={zoom => this.setState({ zoom: zoom })}\n\n                      yesIWantToUseGoogleMapApiInternals\n                      // onGoogleApiLoaded={() => this.context.setMapLoaded()}\n                      // onTilesLoaded={() => this.context.setMapLoaded()}\n                    />\n                  </div>\n                </div>\n              }\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\n\nexport default ShowPage","import React from 'react'\n\nimport _ from 'lodash'\nimport { withRouter } from 'react-router-dom'\nimport { RouteComponentProps } from 'react-router'\nimport isBefore from 'date-fns/isBefore'\nimport startOfToday from 'date-fns/startOfToday'\n\nimport { Context } from '../../components/Store'\nimport { getRandomValues } from '../../utils/getRandom'\nimport { MappedShow } from '../../components/Store/Types'\nimport ShowCard from '../../components/Views/Cards/ShowCard'\nimport ShowPage from '../../components/Views/ShowPage'\n\n\ntype Props = RouteComponentProps<{\n  param1: string,\n}>\n\ntype State = {\n  currentShow: MappedShow | undefined\n}\n\n\nclass Tickets extends React.Component<Props, State> {\n\n  state: State = {\n    currentShow: undefined\n  }\n  \n  static contextType = Context\n\n  // shows: MappedShow[] = []\n\n  // componentDidMount = () =>\n  //   this?.context?.registerInitializeCallback(() => {\n  //     const { mappedDays } = this?.context?.contentful\n\n  //     this.shows = [\n  //       ...getRandomValues(this?.context?.contentful?.mappedDays, 6),\n  //       mappedDays?.[Object.keys(mappedDays)[Object.keys(mappedDays).length - 1]]\n  //     ]\n  //       .map((day: MappedShow[]) => day[0])\n\n  //     this.setState({ currentShow: this.shows[this.shows.length - 1]})\n  //   })\n\n  render = () => {\n    if (!this?.context?.ready || !this?.context?.contentful?.mappedDays)\n      return ''\n\n    if (_.isEmpty(this.context.user))\n      this.props.history.push('/login')\n\n    const page = this?.context?.contentful?.accountPages?.[0]\n    const { mappedDays } = this?.context?.contentful\n    const shows = [\n      ...getRandomValues(this?.context?.contentful?.mappedDays, 6),\n      mappedDays?.[Object.keys(mappedDays)[Object.keys(mappedDays).length - 1]]\n    ]\n      .map((day: MappedShow[]) => day[0])\n\n    return typeof this.state.currentShow !== 'undefined' ?\n      <ShowPage\n        show={this.state.currentShow}\n        back={() => this.setState({ currentShow: undefined })}\n      />\n      :\n      <div className=\"Tickets\">\n        <div className=\"container\">\n          <div className='row mb-s mb-lg-xl'>\n            <div className='col'>\n              <div className='h1'>\n                {page.myEvents}\n              </div>\n            </div>\n          </div>\n          <div className='row'>\n            <div className='col'>\n              <div className='h3 h3--underline'>\n                {page.upcoming}\n              </div>\n            </div>\n          </div>\n          <div className='row d-flex flex-column flex-md-row flex-wrap align-items-stretch'>\n            {shows\n              .filter((show: MappedShow) =>\n                !isBefore(show.dateObj, startOfToday()))\n              .map((show: MappedShow) =>\n                <ShowCard\n                  show={show}\n                  past={false}\n                  page={page}\n                  openShow={() => this.setState({ currentShow: show })}\n                  locale={this.context.locale}\n                />\n            )}\n          </div>\n\n          <div className='row mt-m mt-lg-l'>\n            <div className='col'>\n              <div className='h3 h3--underline'>\n                {page.past}\n              </div>\n            </div>\n          </div>\n          <div className='row d-flex flex-column flex-md-row flex-wrap align-items-stretch'>\n            {shows\n              .filter((show: MappedShow) =>\n                isBefore(show.dateObj, startOfToday()))\n              .map((show: MappedShow) =>\n                <ShowCard\n                  show={show}\n                  past={true}\n                  page={page}\n                  openShow={() => this.setState({ currentShow: show })}\n                  locale={this.context.locale}\n                />\n            )}\n          </div>\n        </div>\n      </div>\n  }\n}\n\n\nexport default withRouter(Tickets)","const parseDeviceInfo = (props: any) =>\n  `${props.osName} ${props.osVersion}, ${props.browserName} ${props.browserFullVersion}`\n\nconst DeviceInfo = (props: { data: string }) => {\n  const parsedData = JSON.parse(props.data)\n\n  return !parsedData ?\n    <></>\n    :\n    <>\n      {parseDeviceInfo(parsedData)}\n    </>\n}\n\n\nexport default DeviceInfo\nexport { parseDeviceInfo }","import React from 'react'\n\nimport _ from 'lodash'\nimport { format } from 'date-fns'\nimport ruLocale from 'date-fns/locale/ru'\nimport enLocale from 'date-fns/locale/en-US'\n\nimport { Context } from '../../components/Store'\nimport DeviceInfo from '../../components/DeviceInfo'\nimport Login from '../Login'\n\n\nclass Settings extends React.Component<{}, {}> {\n  \n  static contextType = Context\n\n  render = () =>\n    _.isEmpty(this.context.user) ?\n      <Login />\n      :\n      <div className=\"Settings\">\n\n        <div className=\"Settings__container\">\n          <h1 className=\"Settings__h1\">\n            {this.context.user.name} {this.context.user.surname}\n          </h1>\n\n          <div className=\"Settings__registered\">\n             {format(\n              new Date(this.context.user.createdAt),\n              'd MMM yyyy, HH:mm:ss',\n              { locale: this.context.locale === \"rus\" ? ruLocale : enLocale }\n            )}\n          </div>\n\n          <div className=\"Settings__sessions\">\n            {this.context.user.siteSession?.map((session: any) =>\n              <div className=\"Settings__sessions__item\">\n                <div className=\"Settings__sessions__item__date\">\n                  {format(\n                    new Date(session.createdAt),\n                    'd MMM yyyy, HH:mm:ss',\n                    { locale: this.context.locale === \"rus\" ? ruLocale : enLocale }\n                  )}\n                </div>\n                <div className=\"Settings__sessions__item__device-info\">\n                  <DeviceInfo data={session.deviceInfo} />\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n      </div>\n}\n\n\nexport default Settings","import React, { useEffect } from 'react'\n\nimport { format } from 'date-fns'\nimport eachWeekOfInterval from 'date-fns/eachWeekOfInterval'\nimport setDate from 'date-fns/setDate'\nimport addDays from 'date-fns/addDays'\nimport addMonths from 'date-fns/addMonths'\nimport subMonths from 'date-fns/subMonths'\nimport addYears from 'date-fns/addYears'\nimport subYears from 'date-fns/subYears'\nimport isToday from 'date-fns/isToday'\nimport isSameDay from 'date-fns/isSameDay'\nimport isSameMonth from 'date-fns/isSameMonth'\nimport { ru, enUS } from 'date-fns/locale'\n\nimport isValidDateString from '../utils/isValidDateString'\n\n\nexport type DatePickerProps = {\n\tvalue: Date | undefined\n\tonChange: (value: Date | undefined) => void\n\tlabel?: string\n\tplaceholder?: string\n\tvalidateValue?: (value: Date | undefined) => boolean\n\tlocale: string\n}\n\n\nexport const DatePicker: React.FC<DatePickerProps> = ({\n\tlabel,\n\tplaceholder,\n\tvalue,\n\tonChange,\n\tvalidateValue,\n\tlocale\n}) => {\n\tconst [opened, setOpened] = React.useState(false)\n\tconst [inputString, setInputString] = React.useState('')\n\tconst [presumedDate, setPresumedDate] = React.useState(new Date())\n\tconst [calendarBodyCurrent, setCalendarBodyCurrent] = React.useState('day')\n\t\n\t// register clicks outside calendar\n\tconst handleClick = (e: any) =>\n\t\t(!e?.target?.className?.includes?.('DatePicker') && opened)\n\t\t\t&& close(true)\n\n\tuseEffect(() => {\n\t\twindow.addEventListener('click', handleClick)\n\t\treturn () =>\n\t\t\twindow.removeEventListener('click', handleClick)\n\t})\n\n\tconst close = (closeWithoutSelection?: boolean) => {\n\t\tif (closeWithoutSelection) {\n\t\t\tif (inputString === '')\n\t\t\t\tonChange(undefined)\n\t\t\telse\n\t\t\t\tif (inputString !== dateToInputString(value))\n\t\t\t\t\tsetInputString(dateToInputString(value))\n\t\t}\n\n\t\tsetOpened(false)\n\t\tsetCalendarBodyCurrent('day')\n\t\tif (typeof value !== 'undefined' && isValidDate(value))\n\t\t\tsetPresumedDate(value)\n\t}\n\n\tconst setStateAndPropsDate = (inputValue: string) => {\n\t\tif (inputValue.length > 8)\n\t\t\treturn\n\n\t\tsetInputString(inputValue)\n\n\t\tif (\n\t\t\tisValidDateString(inputStringToDateReadableString(inputValue)) &&\n\t\t\t(!validateValue || validateValue(new Date(inputStringToDateReadableString(inputValue))))\n\t\t) {\n\t\t\tif (inputValue === '') {\n\t\t\t\tonChange(undefined)\n\t\t\t\tsetPresumedDate(new Date())\n\t\t\t} else {\n\t\t\t\tonChange(new Date(inputStringToDateReadableString(inputValue)))\n\t\t\t\tsetPresumedDate(new Date(inputStringToDateReadableString(inputValue)))\n\t\t\t}\n\t\t}\n\t}\n\n\tconst renderCalendar = () =>\n\t\topened && (\n\t\t\t<div className='DatePicker__calendar'>\n\t\t\t\t<div className='DatePicker__calendar__header'>\n\t\t\t\t\t<div className=\"d-flex flex-column\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={`\n\t\t\t\t\t\t\t\t${'DatePicker__calendar__header__month'}\n\t\t\t\t\t\t\t\t${calendarBodyCurrent === 'month' ? 'DatePicker__calendar__header__month--active' : ''}\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\tonClick={() => setCalendarBodyCurrent('month')}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{format(presumedDate, 'MMMM', { locale: locale === 'rus' ? ru : enUS })}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{calendarBodyCurrent === 'day' && (\n\t\t\t\t\t\t\t<div className=\"d-flex flex-row w-100 space-between\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName='DatePicker__arrow DatePicker__arrow--left'\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\tsetPresumedDate(subMonths(presumedDate, 1))}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName='DatePicker__arrow DatePicker__arrow--right'\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\tsetPresumedDate(addMonths(presumedDate, 1))}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"d-flex flex-column\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={`\n\t\t\t\t\t\t\t${'DatePicker__calendar__header__year'}\n\t\t\t\t\t\t\t${calendarBodyCurrent === 'year' ? 'DatePicker__calendar__header__year--active' : ''}\n\t\t\t\t\t\t`}\n\t\t\t\t\t\t\tonClick={() => setCalendarBodyCurrent('year')}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{format(presumedDate, 'yyyy', { locale: locale === 'rus' ? ru : enUS })}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{calendarBodyCurrent === 'day' && (\n\t\t\t\t\t\t\t<div className=\"d-flex flex-row w-100 space-between\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName='DatePicker__arrow DatePicker__arrow--left'\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\tsetPresumedDate(subYears(presumedDate, 1))}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName='DatePicker__arrow DatePicker__arrow--right'\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\tsetPresumedDate(addYears(presumedDate, 1))}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='DatePicker__calendar__body'>{renderCalendarBody()}</div>\n\t\t\t</div>\n\t\t)\n\n\tconst renderCalendarBody = () => {\n\t\tconst selectedDateString = dateToInputString(value)\n\t\tconst currentMonthDayString = selectedDateString === '' ? dateToInputString(presumedDate) : selectedDateString\n\t\tconst currentMonthFirstDate = setDate(presumedDate, 1)\n\t\tconst currentYear = new Date().getFullYear()\n\n\t\tswitch (calendarBodyCurrent) {\n\t\t\tcase 'day':\n\t\t\t\treturn eachWeekOfInterval({\n\t\t\t\t\tstart: currentMonthFirstDate,\n\t\t\t\t\tend: addMonths(currentMonthFirstDate, 1),\n\t\t\t\t}).map((weekFirstDay: Date) =>\n\t\t\t\t\tArray.apply(null, Array(7)).map((val, index) => {\n\t\t\t\t\t\tconst thisDay = addDays(weekFirstDay, index)\n\t\t\t\t\t\tconst disabled = !validateValue || !validateValue(thisDay)\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\tclassName={`\n\t\t\t\t\t\t\t\t\t${'DatePicker__calendar__body__day'}\n\t\t\t\t\t\t\t\t\t${value && isSameDay(thisDay, value) &&\n\t\t\t\t\t\t\t\t\t\t'DatePicker__calendar__body__day--active'}\n\t\t\t\t\t\t\t\t\t${!isSameMonth(thisDay, currentMonthFirstDate) &&\n\t\t\t\t\t\t\t\t\t\t'DatePicker__calendar__body__day--another-month'}\n\t\t\t\t\t\t\t\t\t${isToday(thisDay) &&\n\t\t\t\t\t\t\t\t\t\t'DatePicker__calendar__body__day--today'}\n\t\t\t\t\t\t\t\t\t${disabled &&\n\t\t\t\t\t\t\t\t\t\t'DatePicker__calendar__body__day--disabled'}\n\t\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tif (!disabled) {\n\t\t\t\t\t\t\t\t\t\tsetStateAndPropsDate(dateToInputString(thisDay))\n\t\t\t\t\t\t\t\t\t\tclose()\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{format(thisDay, 'd')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\tcase 'month':\n\t\t\t\treturn Array.apply(null, Array(12)).map((val, index) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\tclassName='DatePicker__calendar__body__month'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetCalendarBodyCurrent('day')\n\t\t\t\t\t\t\tsetPresumedDate(\n\t\t\t\t\t\t\t\tnew Date(\n\t\t\t\t\t\t\t\t\tinputStringToDateReadableString(\n\t\t\t\t\t\t\t\t\t\t`${currentMonthDayString.slice(0, 2)}${1 + index < 10 ? '0' : ''}${\n\t\t\t\t\t\t\t\t\t\t\t1 + index\n\t\t\t\t\t\t\t\t\t\t}${currentMonthDayString.slice(4)}`\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{format(addMonths(new Date('2021-01-01'), index), 'MMM', {\n\t\t\t\t\t\t\tlocale: locale === 'rus' ? ru : enUS,\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t))\n\t\t\tcase 'year':\n\t\t\t\treturn Array.apply(null, Array(12)).map((val, index) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\tclassName='DatePicker__calendar__body__year'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetCalendarBodyCurrent('day')\n\t\t\t\t\t\t\tsetPresumedDate(\n\t\t\t\t\t\t\t\tnew Date(\n\t\t\t\t\t\t\t\t\tinputStringToDateReadableString(\n\t\t\t\t\t\t\t\t\t\t`${currentMonthDayString.slice(0, 4)}${currentYear + index}`\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{currentYear + index}\n\t\t\t\t\t</div>\n\t\t\t\t))\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className='DatePicker'>\n\t\t\t{label && <div className='DatePicker__label'>{label}</div>}\n\t\t\t<input\n\t\t\t\tclassName={`DatePicker__input ${opened && 'DatePicker__input--focused'}`}\n\t\t\t\tonChange={(e: any) => {\n\t\t\t\t\tconst inputValue = ((e.target as unknown) as HTMLInputElement).value\n\t\t\t\t\t\t.replace(/[^0-9]/g, '')\n\n\t\t\t\t\tsetStateAndPropsDate(inputValue)\n\t\t\t\t}}\n\t\t\t\tvalue={inputStringToDisplayedDateString(inputString)}\n\t\t\t\tonFocus={() => setOpened(true)}\n\t\t\t\tplaceholder={placeholder}\n\t\t\t/>\n\t\t\t{renderCalendar()}\n\t\t</div>\n\t)\n}\n\n\nexport default DatePicker\n\n\n// Parsing functions\nconst inputStringToDisplayedDateString = (inputString: string) => {\n\treturn inputString.length === 0\n\t\t? ''\n\t\t: inputString.length <= 2\n\t\t? `${inputString.slice(0, 2)}`\n\t\t: inputString.length <= 4\n\t\t? `${inputString.slice(0, 2)}.${inputString.slice(2, 4)}`\n\t\t: `${inputString.slice(0, 2)}.${inputString.slice(2, 4)}.${inputString.slice(4)}`\n}\n\nconst inputStringToDateReadableString = (string: string) =>\n\tstring.length === 8 ? `${string.slice(4)}-${string.slice(2, 4)}-${string.slice(0, 2)}` : 'error'\n\nconst dateToInputString = (date: Date | undefined) =>\n\t(typeof date === 'undefined' ? '' : format(date, 'ddMMyyyy'))\n\nconst isValidDate = (date: Date | undefined) =>\n\ttypeof date !== 'undefined' && !Number.isNaN(date.getTime())\n","import React from 'react'\n\nimport isBefore from 'date-fns/isBefore'\nimport isAfter from 'date-fns/isAfter'\n\nimport DatePicker from '../components/DatePicker'\n\n\nexport type RangePickerProps = {\n\tdateA: Date | undefined\n\tdateB: Date | undefined\n  setDateA: (value: Date | undefined) => void\n  setDateB: (value: Date | undefined) => void\n\tlocale: string\n}\n\n\nexport const RangePicker: React.FC<RangePickerProps> = ({\n\tdateA,\n  dateB,\n  setDateA,\n  setDateB,\n  locale\n}) => {\n\tconst [currentOpened, setCurrentOpened] = React.useState(-1)\n\t\n\treturn (\n    <div className=\"RangePicker\">\n      <DatePicker\n        locale={locale}\n        value={dateA}\n        onChange={(value: Date | undefined) => {\n          setDateA(value)\n          setCurrentOpened(1)\n        }}\n        validateValue={(value: Date | undefined) =>\n          !dateB || !value || isBefore(value, dateB)}\n      />\n      <div className='RangePicker__dash'>\n        \n      </div>\n      <DatePicker\n        locale={locale}\n        value={dateB}\n        onChange={(value: Date | undefined) => {\n          setDateB(value)\n          setCurrentOpened(0)\n        }}\n        validateValue={(value: Date | undefined) =>\n          !dateA || !value || isAfter(value, dateA)}\n      />\n    </div>\n\t)\n}\n\n\nexport default RangePicker\n","import { MappedShow } from \"../components/Store/Types\"\n\n\nconst radarioProps = (show: MappedShow) => {\n  if (show.ticketsId)\n    return ({\n      to: `#event/${show.ticketsId}`,\n      sameTab: true,\n      'data-accent-color': '#b33d26'\n    })\n\n  if (show.ticketsGroupId)\n    return ({\n      to: '#',\n      sameTab: true,\n      'data-radario-group-id': show.ticketsGroupId,\n      'data-type': \"time-table\",\n      'data-radario-new-widget': \"true\",\n      'data-accent-color': \"#251616\",\n      'data-page-background-color': \"#f5ecec\"\n    })\n\n  if (show.url)\n    return ({\n      to: show.url,\n      sameTab: false,\n    })\n\n  return ({\n    to: '',\n    disabled: true\n  })\n}\n\n  // 'data-custom-width': '800px',\n  // 'data-page-background-color': 'transparent',\n  // 'data-tickets-name-color': '#000000',\n  // 'data-custom-color': 'af473a',\n  // 'data-radario-noheader': 'true',\n\n\nexport default radarioProps","const isValidDate = (date: any) =>\n  date instanceof Date && !Number.isNaN(date.getTime())\n\n\nexport default isValidDate","import React from 'react'\n\nimport capitalize from 'capitalize'\nimport { format } from 'date-fns'\nimport isBefore from 'date-fns/isBefore'\nimport endOfYesterday from 'date-fns/endOfYesterday'\nimport isWithinInterval from 'date-fns/isWithinInterval'\nimport { ru, enUS } from 'date-fns/locale'\nimport { savePDF } from '@progress/kendo-react-pdf'\nimport _ from 'lodash'\n\nimport FormattedMessage from '../components/FormattedMessage'\nimport {\n  Online,\n  Offline,\n  Program,\n  Age\n} from '../components/buttons'\nimport { Context } from '../components/Store'\nimport {\n  MappedShow,\n  Days\n} from '../components/Store/Types'\nimport { getMessage } from '../components/Store/locale'\nimport RangePicker from '../components/RangePicker'\nimport Link from '../components/Link'\nimport camelize from '../utils/camelize'\nimport radarioProps from '../utils/radarioProps'\nimport { FestivalPassSchedule } from '../components/FestivalPass'\nimport isValidDate from '../utils/isValidDate'\n// import Loader from '../components/Loader'\n\n\ntype FilterState = {\n  main: boolean\n  open: boolean\n  educational: boolean\n  online: boolean\n  offline: boolean\n  from: Date | undefined\n  to: Date | undefined\n  [key: string]: any\n}\ntype State = FilterState & {\n  showFilter: boolean\n  showPrev: number\n  renderingPDF: boolean\n}\n\n\nconst filterInitialState: FilterState = {\n  main: false,\n  open: false,\n  educational: false,\n  online: false,\n  offline: false,\n  from: undefined,\n  to: undefined,\n}\nconst loadAdditionalNumber = 5\nconst currentFestivalFirstDay = '2021-01-01'\n\n\nclass Schedule extends React.Component<{}, State> {\n  \n  state: State = {\n    ...filterInitialState,\n    showFilter: false,\n    showPrev: 0,\n    renderingPDF: false\n  }\n\n  static contextType = Context\n\n  pdfRef: any = React.createRef()\n\n  toggleAttrib = (attrib: string) =>\n    this.setState({ [attrib]: !this.state[attrib] })\n\n  savePDF = () => {\n    this.setState({ renderingPDF: true })\n    // this.context.setState({ ready: false })\n\n    const { from, to } = this.state\n    const datesSet = from && to\n    const datesRange = datesSet ? `${from} - ${to}` : `${currentFestivalFirstDay} - 2021.07.26`\n\n    setTimeout(() =>\n      savePDF(\n        this.pdfRef.current,\n        {\n          paperSize:  \"A4\",\n          fileName: `${getMessage(this, 'Schedule.pdfFileName')} ${datesRange}.pdf`\n        },\n        () => {\n          this.setState({ renderingPDF: false })\n          // this.context.setState({ ready: true })\n        }\n      )\n    , 200)\n  }\n\n  renderFilter = (className?: string) =>\n    <div className={`Schedule__filter ${className}`}>\n      <FormattedMessage\n        id='Schedule.filter'\n        className='h3 mb-3 mb-lg-s'\n      />\n\n      <div className='Schedule__filter__p'>\n        {camelize(getMessage(this, 'Program.name'))}\n      </div>\n      <div className='w-100 d-flex flex-row flex-wrap mb-3 mb-lg-s'>\n        {['main', 'open', 'educational']\n          .map(program =>\n            <Program\n              key={program}\n              text={getMessage(this, `Program.pages.${capitalize(program)}.name`)}\n              className={`Schedule__filter__button ${!this.state[program] && 'button--selectable'}`}\n              onClick={() => this.toggleAttrib(program)}\n            />\n        )}\n      </div>\n\n      <FormattedMessage\n        id='Schedule.eventType'\n        className='Schedule__filter__p'\n      />\n      <div className='w-100 d-flex flex-row flex-wrap mb-3 mb-lg-s'>\n        <Online\n          className={`Schedule__filter__button ${!this.state.online && 'button--selectable'}`}\n          onClick={() => this.toggleAttrib('online')}\n        />\n        <Offline\n          className={`Schedule__filter__button ${!this.state.offline && 'button--selectable'}`}\n          onClick={() => this.toggleAttrib('offline')}\n        />\n      </div>\n\n      <FormattedMessage\n        id='Schedule.dates'\n        className='Schedule__filter__p'\n      />\n      <RangePicker\n        locale={this.context.locale}\n        dateA={this.state.from}\n        dateB={this.state.to}\n        setDateA={(value: Date | undefined) =>\n          this.setState({ from: value })}\n        setDateB={(value: Date | undefined) =>\n          this.setState({ to: value })}\n      />\n\n      <div\n        onClick={this.savePDF}\n        className='p p--l p--arrow p--arrow--down mb-1 cursor-pointer'\n      >\n        <FormattedMessage id='Schedule.download' />\n      </div>\n      <div className='p p--s mb-xxs mb-lg-xs color-button-disabled-text'>\n        <FormattedMessage id='Schedule.downloadDesc' />\n      </div>\n\n      {!Object.keys(filterInitialState)\n        .every(key => filterInitialState[key] === this.state[key])\n          &&\n            <div\n              className='p p--l color-danger p--cross cursor-pointer'\n              onClick={() => this.setState(filterInitialState)}\n            >\n              <FormattedMessage id='Schedule.cleanFilter' />\n            </div>\n      }\n\n    </div>\n\n  getFilteredDaysAndIndex = () => {\n    let indexOfCurrentFestivalFirstDay = -1\n\n    Object.keys(this.context?.contentful?.mappedDays)\n      .forEach((dayKey, index) =>\n        (dayKey.localeCompare(currentFestivalFirstDay) === 1 && indexOfCurrentFestivalFirstDay === -1)\n          && (indexOfCurrentFestivalFirstDay = index))\n  \n    let filteredDays: Days = Object.keys(this.context?.contentful?.mappedDays)\n      .slice(\n        Math.max(0,\n          indexOfCurrentFestivalFirstDay === -1 || (this.state.from && this.state.to) ?\n            0\n            :\n            indexOfCurrentFestivalFirstDay - this.state.showPrev * loadAdditionalNumber))\n      .map((dayKey: string): Days =>\n        ({ [dayKey]: \n          (this.context?.contentful?.mappedDays[dayKey] || [])\n            .filter((show: MappedShow) =>\n              (!this.state.online && !this.state.offline) || (\n                (this.state.online && show.online)\n                || (this.state.offline && show.offline)\n              )\n            )\n            .filter((show: MappedShow) =>\n              (!this.state.main && !this.state.open && !this.state.educational) || (\n                (this.state.main && show?.program?.id === '7fOwCkT7nOXh3C81toLoSs')\n                || (this.state.open && show?.program?.id === '4qgsLo90by1TfShZwdyNhw')\n                || (this.state.educational && show?.program?.id === '6OfzgvjCzzT1xhlwDH2AfQ')\n              )\n            )\n            .filter((show: MappedShow) => {\n              const fromDate = this.state.from\n              const toDate = this.state.to\n\n              if (!fromDate || !toDate || !isValidDate(fromDate) || !isValidDate(toDate))\n                return true\n\n              return isWithinInterval(\n                show.dateObj,\n                { start: fromDate, end: toDate })\n            })\n        })\n      )\n      .filter((day: Days) => (day[Object.keys(day)[0]]?.length || 0) > 0)\n      .reduce((a, b) => ({...a, ...b}), {})\n\n    return ({\n      indexOfCurrentFestivalFirstDay: indexOfCurrentFestivalFirstDay,\n      filteredDays: filteredDays\n    })\n  }\n\n  renderDays = () => {\n    const { filteredDays, indexOfCurrentFestivalFirstDay } = this.getFilteredDaysAndIndex()\n\n    return (\n      <div className='col-4 col-md-6 col-lg-8'>\n        {indexOfCurrentFestivalFirstDay - this.state.showPrev * loadAdditionalNumber > 0\n          && (typeof this.state.from === 'undefined' || typeof this.state.to === 'undefined') &&\n            <div\n              className='Schedule__load-prev'\n              onClick={() => this.setState({ showPrev: this.state.showPrev + 1 })}\n            >\n              <FormattedMessage id='Schedule.loadPrev' />\n            </div>\n        }\n        <FestivalPassSchedule />\n        {_.isEmpty(filteredDays) ?\n          <div className='text-center my-m p p--xl'>\n            <FormattedMessage id='Schedule.nothing' />\n          </div>\n          :\n          Object.keys(filteredDays)\n            .map((dayKey: string) =>\n              <div\n                key={dayKey}\n                className='Schedule__day'\n              >\n                <h2 className='h2 h2--underline pb-1 pb-md-2 mb-3'>\n                  {(() => console.log(dayKey))()}\n                  {format(\n                    new Date(dayKey),\n                    `d MMMM / ${dayKey?.includes('2021') ? 'EEEE' : ' yyyy'}`,\n                    { locale: this.context.locale === 'rus' ? ru : enUS }\n                  )}\n                </h2>\n                {filteredDays[dayKey]\n                  ?.sort((a: MappedShow, b: MappedShow) => a.datetime.localeCompare(b.datetime))\n                  ?.map((show: MappedShow, index: number) =>\n                    <div\n                      key={index}\n                      className='Schedule__day__show'\n                    >\n                      <div className='col-4 col-md-1 col-lg-3'>\n                        <p className='p p--l'>\n                          {this.context.locale === 'rus' ?\n                            show.scheduleCust\n                            ||\n                            <>{format(show.dateObj, 'HH:mm')} <FormattedMessage id='Schedule.msk' /></>\n                            :\n                            show.scheduleCustEn\n                            ||\n                            <>{format(show.dateObj, 'HH:mm')} <FormattedMessage id='Schedule.msk' /></>\n                          }\n                        </p>\n                      </div>\n                      <Link\n                        to={show.link?.includes?.('http') ? show.link : `spekt/${show.link}`}\n                        disabled={this.context.locale === 'eng' || typeof show.link === 'undefined'}\n                        className='Schedule__day__show__info'\n                      >\n                        <h3 className='h3 mb-0'>\n                          {show.name}\n                        </h3>\n                        <p className='p p--xl mb-xs font-spectral'>\n                          {show.persons}\n                        </p>\n                        {(this.context.locale === 'rus' && show.disclaimer) &&\n                          <p className='p p--s'>\n                            {show.disclaimer}\n                          </p>\n                        }\n                        {(this.context.locale === 'eng' && show.disclaimerEn) &&\n                          <p className='p p--s'>\n                            {show.disclaimerEn}\n                          </p>\n                        }\n                        <div className='w-100 d-flex flex-row flex-wrap mb-xs mb-md-0'>\n                          {show.program &&\n                            <Program\n                              text={show.program.name}\n                              className='mr-2 mb-2'\n                            />}\n                          {show.offline &&\n                            <Offline className='mr-2 mb-2' />}\n                          {show.online &&\n                            <Online className='mr-2 mb-2' />}\n                          {show.age &&\n                            <Age\n                              text={show.age}\n                              className='mr-2 mb-2'\n                            />}\n                        </div>\n                      </Link>\n                      <div className='col-4 col-md-2 col-lg-3'>\n                        <Link\n                          disabled={\n                            isBefore(show.dateObj, endOfYesterday())\n                              && !((show.scheduleCust?.includes(' ') || show.scheduleCust?.includes(' ')) && !show.scheduleCust?.includes(''))}\n                          className='Schedule__day__show__button'\n                          {...radarioProps(show)}\n                        >\n                          {this.context.locale === 'rus' ?\n                            show.buttonNameCust || <FormattedMessage id='Schedule.buy' />\n                            :\n                            show.buttonNameCustEn || <FormattedMessage id='Schedule.buy' />\n                          }\n                        </Link>\n                      </div>\n                    </div>)\n                }\n              </div>\n            )\n        }\n      </div>\n    )\n  }\n\n  renderPDF = () => {\n    const { filteredDays } = this.getFilteredDaysAndIndex()\n\n    return (\n      <>\n        <div style={{\n          position: 'fixed',\n          zIndex: 5000,\n          width: '100vw',\n          height: '100vh',\n          top: 0,\n          left: 0,\n          backgroundColor: 'white'\n        }}>\n          loading...\n        </div>\n        <div\n          ref={this.pdfRef}\n          className='container'\n        >\n          {_.isEmpty(filteredDays) ?\n            <div className='row'>\n              <div className='col'>\n                <div className='text-center my-m p p--m'>\n                  <FormattedMessage id='Schedule.nothing' />\n                </div>\n              </div>\n            </div>\n            :\n            Object.keys(filteredDays)\n              .map((dayKey: string) =>\n                <div\n                  key={dayKey}\n                  className='row'\n                  style={{\n                    transform: 'scale(.9)'\n                  }}\n                >\n                  <div className='col d-flex flex-column'>\n                    <h2 className='p p--s p--underline font-weight-bold pb-1 pb-md-2 mb-3'>\n                      {format(\n                        new Date(dayKey),\n                        `d MMMM / ${dayKey?.includes('2021') ? 'EEEE' : ' yyyy'}`,\n                        { locale: this.context.locale === 'rus' ? ru : enUS }\n                      )}\n                    </h2>\n                    {filteredDays[dayKey]\n                      ?.sort((a: MappedShow, b: MappedShow) => a.datetime.localeCompare(b.datetime))\n                      ?.map((show: MappedShow, index: number) =>\n                        <div\n                          key={index}\n                          className='row'\n                        >\n                          <div className='col-3'>\n                            <p className='p p--xxs'>\n                              {this.context.locale === 'rus' ?\n                                show.scheduleCust\n                                ||\n                                <>{format(show.dateObj, 'HH:mm')} <FormattedMessage id='Schedule.msk' /></>\n                                :\n                                show.scheduleCustEn\n                                ||\n                                <>{format(show.dateObj, 'HH:mm')} <FormattedMessage id='Schedule.msk' /></>\n                              }\n                            </p>\n                          </div>\n                          <Link\n                            to={show.link?.includes?.('http') ? show.link : `spekt/${show.link}`}\n                            disabled={this.context.locale === 'eng' || typeof show.link === 'undefined'}\n                            className='col-9 d-flex flex-column'\n                          >\n                            <h3 className='p p--xs font-weight-bold mb-0'>\n                              {show.name}\n                            </h3>\n                            <p className={`p p--xs mb-1`}>\n                              {show.persons}\n                            </p>\n                            <div\n                              className='w-100 d-flex flex-row flex-wrap mb-xs mb-md-0'\n                              style={{\n                                transform: 'scale(.75)'\n                              }}\n                            >\n                              {show.program &&\n                                <Program\n                                  text={show.program.name}\n                                  className='mr-2 mb-3'\n                                />}\n                              {show.offline &&\n                                <Offline className='mr-2 mb-3' />}\n                              {show.online &&\n                                <Online className='mr-2 mb-3' />}\n                              {show.age &&\n                                <Age\n                                  text={show.age}\n                                  className='mr-2 mb-3'\n                                />}\n                            </div>\n                          </Link>\n                        </div>\n                      )\n                    }\n                  </div>\n                </div>\n          )}\n        </div>\n      </>\n    )\n  }\n\n  render = () =>\n    !this?.context?.ready ?\n      ''\n      :\n      this.state.renderingPDF ?\n        this.renderPDF()\n        :\n        <div className=\"container mt-s mt-md-m mt-lg-l mb-m mb-md-l mb-lg-xl\">\n          <div className='row d-flex d-lg-none mb-xs mb-md-s position-relative'>\n            <div className='col-4'>\n              <FormattedMessage\n                id='Schedule.name'\n                className='h1 mb-s mb-md-m mb-lg-xl d-block'\n              />\n            </div>\n            <div className='col-4 col-md-2 position-static'>\n              <button\n                className={`button pt-1 w-100 ${this.state.showFilter ? 'button--main' : 'button--secondary'}`}\n                onClick={() => this.toggleAttrib('showFilter')}\n              >\n                <FormattedMessage\n                  id={this.state.showFilter ? 'Schedule.apply' : 'Schedule.filter'}\n                />\n              </button>\n              {this.state.showFilter &&\n                <div\n                  className='position-absolute container d-block d-lg-none'\n                  style={{\n                    width: '100vw',\n                    left: 0,\n                    top: '110%',\n                    zIndex: 1000,\n                  }}\n                >\n                  <div className='row d-flex flex-row justify-content-end'>\n                    <div className='col-4'>\n                      <div className='Schedule__mobile-filter-container'>\n                        {this.renderFilter()}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              }\n            </div>\n          </div>\n          <div className='row'>\n            <div className='col-4 col-md-6 col-lg-4 d-none d-lg-flex flex-column'>\n              <FormattedMessage\n                id='Schedule.name'\n                className='h1 mb-s mb-md-m mb-lg-xl'\n              />\n              {this.renderFilter()}\n            </div>\n\n            {this.renderDays()}\n\n          </div>\n        </div>\n}\n\n\nexport default Schedule","import React from 'react'\n\n\nimport { Context } from '../../components/Store'\nimport { Sponsor } from '../../components/Store/Types'\n\n\nclass Projects extends React.Component<{}, {}> {\n  \n  static contextType = Context\n\n  render = () => {\n    const page = this.context?.contentful?.festivalProjectss[0]\n\n    return !page ? '' :\n      <div className=\"Projects\">\n        <div className='container'>\n          <div className='row'>\n            <div className='col'>\n              <h1 className='h1 mt-s mt-md-m mt-lg-l mb-m mb-md-l mb-lg-xl'>\n                {page.name}\n              </h1>\n            </div>\n          </div>\n\n          <div className='row mb-m mb-md-l d-flex flex-column flex-lg-row justify-content-between'>\n            <div className='col-4 col-md-6 col-lg-8'>\n              <div className='p p--xxl'>\n                {page.desc}\n              </div>\n\n              <h2 className='h2 d-none d-lg-block mt-l mb-s'>\n                {page.title2}\n              </h2>\n\n              <div className='p p--l d-none d-lg-block'>\n                {page.desc2}\n              </div>\n            </div>\n            \n            <div className='col-4 col-md-6 col-lg-3'>\n              <div className='p p--s mb-3 mt-s mt-md-m mt-lg-0'>\n                {page.partnersTitle}\n              </div>\n              <div className='d-none d-lg-flex flex-column flex-md-row flex-lg-column'>\n                {page.sponsors.map((sponsor: Sponsor) =>\n                  <img\n                    src={sponsor?.logo?.[0]?.file?.url}\n                    alt={sponsor?.logo?.[0]?.file?.fileName}\n                    className='w-100'\n                  />\n                )}\n              </div>\n            </div>\n          </div>\n\n          <div className='row d-lg-none'>\n            {page.sponsors.map((sponsor: Sponsor) =>\n              <div className='col-3 col-md-2'>\n                <img\n                  src={sponsor?.logo?.[0]?.file?.url}\n                  alt={sponsor?.logo?.[0]?.file?.fileName}\n                  className='w-100'\n                />\n              </div>\n            )}\n          </div>\n\n\n          <div className='row d-block d-lg-none mt-m mt-md-l'>\n            <div className='col'>\n              <h2 className='h2 mb-xs'>\n                {page.title2}\n              </h2>\n              <div className='p p--l'>\n                {page.desc2}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n  }\n}\n\n\nexport default Projects","import React from 'react'\n\nimport HorizontalShowcase from '../../components/HorizontalShowcase'\nimport { Context } from '../../components/Store'\nimport Link from '../../components/Link'\nimport { FeedbackPreview, Feedback } from '../../components/Store/Types'\n\n\nclass Reviews extends React.Component<{}, {}> {\n  \n  static contextType = Context\n\n  render = () => {\n    const page = this.context?.contentful?.festivalReviewss[0]\n\n    return !page ? '' :\n      <div className=\"Reviews\">\n        <div className='container'>\n          <div className='row mt-s mt-md-m mt-lg-l mb-m mb-md-l mb-lg-xl'>\n            <div className='col'>\n              <h1 className='h1'>\n                {page.name}\n              </h1>\n            </div>\n          </div>\n        </div>\n        <HorizontalShowcase\n          XXL\n          className='mb-m mb-md-l mb-lg-xl'\n          items={page.previews}\n          ItemComp={(props: FeedbackPreview & { index?: number, className?: string }) =>\n            <div className={`\n              ${props.className}\n              ${(props.index || 0) + 1 !== page.previews.length && 'mr-3'}\n              pink-block p-4 p-md-s p-xl-m align-self-stretch d-flex flex-column justify-content-between\n            `}>\n              <div className='p p--xxl mb-m mb-md-l'>\n                {props.text}\n              </div>\n              <div className='w-100 d-flex flex-row justify-content-between mb-3'>\n                <div className='d-flex flex-column'>\n                  <div className='p p--s'>\n                    {props.name}\n                  </div>\n                  <div className='p p--s color-button-disabled-text'>\n                    {props.organization} / {props.year}\n                  </div>\n                </div>\n                <div\n                  className='h2 font-weight-normal font-spectral'\n                  style={{ lineHeight: 1 }}\n                >\n                  {(props.index || 0) + 1}/{page.previews.length}\n                </div>\n              </div>\n            </div>\n          }\n        />\n        <div className='container'>\n          <div className='row'>\n            <div className='col'>\n              <div className='h2 mb-xs mb-md-xs'>\n                {page.archiveTitle}\n              </div>\n            </div>\n          </div>\n          {page.items.tickets.map((year: { year: number, items: Feedback[] }) =>\n            <>\n              <div className='row'>\n                <div className='col'>\n                  <div className='h3 mb-xxs mb-md-xs'>\n                    {year.year}\n                  </div>\n                </div>\n              </div>\n              <div className='row'>\n                {year.items.map((item: Feedback) =>\n                  <>\n                    <Link\n                      to={item.url}\n                      className='col-4 col-md-2 col-lg-3 mb-xs md-md-s'\n                    >\n                      <div className='p p--l'>\n                        {item.name}\n                      </div>\n                      <div className='p p--xl font-spectral'>\n                        {item.author}\n                      </div>\n                      <div className='p p--s color-button-disabled-text'>\n                        {item.organization}\n                      </div>\n                    </Link>\n                    <div className='pt-0 p-md-1 col-1' />\n                  </>\n                )}\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n  }\n}\n\n\nexport default Reviews","import React from 'react'\n\nimport Link from '../../components/Link'\nimport FormattedMessage from '../../components/FormattedMessage'\nimport HorizontalShowcase from '../../components/HorizontalShowcase'\nimport { Context } from '../../components/Store'\nimport Img from '../../components/Img'\nimport { Person } from '../../components/Store/Types'\nimport { File } from '../../components/Store/Types/contentfulTypes'\n\n\nclass About extends React.Component<{}, {}> {\n  \n  static contextType = Context\n\n  render = () => {\n\n    const page = this.context?.contentful?.aboutPages[0]\n\n    return !page ? '' :\n      <div className=\"About\">\n        <div className=\"container\">\n          <div className='row mt-s mt-md-m mt-lg-l mb-m mb-md-l mb-lg-xl'>\n            <div className='col'>\n              <h1 className='h1'>\n                {page.name}\n              </h1>\n            </div>\n          </div>\n          <div className='row d-flex flex-column flex-lg-row justify-content-between'>\n            <div className='col-4 col-md-6 col-lg-12 col-xl-8 mb-xs mb-md-s mb-xl-l'>\n              <div className='p p--xxl'>\n                {page.desc}            \n              </div>\n            </div>\n            <div className='col-4 col-md-6 col-lg-12 col-xl-3 d-flex flex-column'>\n              <Link\n                to='/festival/about/projects'\n                className='p p--arrow p--arrow--right mb-xxs'\n              >\n                <FormattedMessage id='Festival.pages.About.pages.Projects.name' />\n              </Link>\n              <Link\n                to='/festival/archive'\n                className='p p--arrow p--arrow--right mb-xxs'\n              >\n                <FormattedMessage id='Festival.pages.Archive.name' />\n              </Link>\n              {/* <Link\n                to='/festival/about/reviews'\n                className='p p--arrow p--arrow--right mb-s mb-md-l mb-xl-0'\n              >\n                <FormattedMessage id='Festival.pages.About.pages.Reviews.name' />\n              </Link> */}\n            </div>\n          </div>\n          <div className='row'>\n            <div className='col'>\n            </div>\n          </div>\n        </div>\n        <HorizontalShowcase\n          XL\n          className='mb-m mb-md-l mb-lg-xl'\n          items={page.images}\n          ItemComp={(props: File & { className: string }) =>\n            <Img\n              file={props}\n              className={`About__Img mr-4 ${props.className}`}\n            />\n          }\n        />\n        <div className='container'>\n          <div className='row'>\n            <div className='col'>\n              <h2 className='h2 mb-xxs mb-md-s'>\n                {page.teamTitle}\n              </h2>\n            </div>\n          </div>\n          <div className='row d-flex flex-row flex-wrap'>\n            {page.team\n              // .sort((a: Person, b: Person) => Math.random() - .5)\n              .map((person: Person) =>              \n                <div className='About__person'>\n                  <div className='About__person__avatar'>\n                    <Img\n                      file={person.avatar}\n                      urlParams='?fit=fill&w=192&h=192'\n                    />\n                  </div>\n                  <div className='About__person__name'>\n                    {person.name} {person.surname}\n                  </div>\n                  <div className='About__person__title'>\n                    {person.title}\n                  </div>\n                </div>\n            )}\n          </div>\n        </div>\n      </div>\n  }\n}\n\n\nexport default About","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"line\", {\n  y1: -0.5,\n  x2: 16,\n  y2: -0.5,\n  transform: \"matrix(1 1.4057e-06 4.05797e-08 1 8 16)\",\n  stroke: \"black\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  y1: -0.5,\n  x2: 16,\n  y2: -0.5,\n  transform: \"matrix(-4.68431e-08 1 -1 -1.49312e-06 16 8)\",\n  stroke: \"black\"\n});\n\nfunction SvgPlus(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlus);\nexport default __webpack_public_path__ + \"static/media/plus.d68094f3.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\n\nimport ResizeObserver from 'resize-observer-polyfill'\n\nimport { ReactComponent as Plus } from '../styles/img/plus.svg'\n\n\ntype Props = {\n  title: string | JSX.Element\n  className?: string\n  initialOpen?: boolean\n  opened?: boolean\n  toggleOpened?: Function\n  spekt?: boolean\n}\n\n\nclass Dropdown extends React.Component<Props, {}> {\n  state = {\n    opened: this.props.initialOpen || this.props.opened || false,\n    contentHeight: 0,\n  }\n\n  titleRef: any = React.createRef()\n  contentRef: any = React.createRef()\n  resizeObs: any\n\n  componentDidMount() {\n    this.resizeObs = new ResizeObserver(this.updateContentHeight.bind(this))\n      .observe(this.contentRef.current)\n  }\n\n  componentDidUpdate = (prevProps: any) =>\n    this.props.opened !== prevProps.opened &&\n      this.setState({opened: this.props.opened})\n\n  updateContentHeight = () =>\n    this.setState({\n      contentHeight: this.contentRef?.current?.clientHeight\n    })\n\n  toggleOpened = () => {\n    if (!this.state.opened)\n      setTimeout(() => window.scroll({\n        top: this.titleRef?.current?.getBoundingClientRect()?.top + window.scrollY - 200,\n        behavior: 'smooth'\n      }), 250)\n      \n\n    this.props.toggleOpened ?\n      this.props.toggleOpened()\n      :\n      this.setState({ opened: !this.state.opened })\n  }\n\n  render = () =>\n    this.props.children &&\n      <div\n        ref={this.titleRef}\n        className={`\n          Dropdown\n          ${this.state.opened && \"Dropdown--opened\"}\n          ${this.props.spekt && 'Dropdown--spekt'}\n          ${this.props.className}\n        `}\n      >\n        <div\n          className='Dropdown__title'\n          onClick={() => this.props.spekt && this.toggleOpened()}\n        >\n          <div\n            className=\"Dropdown__title__text\"\n            onClick={() => !this.props.spekt && this.toggleOpened()}\n          >\n            {this.props.title}\n            {this.props.spekt &&\n              <Plus className='Dropdown__title__text__Plus' />}\n          </div>\n        </div>\n        <div\n          className=\"Dropdown__content\"\n          style={{\n            height: this.state.opened ?\n              this.state.contentHeight\n              :\n              0\n          }}\n        >\n          <div\n            className=\"Dropdown__content__container\"\n            ref={this.contentRef}\n          >\n            {this.props.children}\n          </div>\n        </div>\n      </div>\n}\n\n\nexport default Dropdown","import React from 'react'\n\nimport { withRouter } from 'react-router-dom'\nimport { RouteComponentProps } from 'react-router'\n\nimport Link from '../../components/Link'\nimport { Context } from '../../components/Store'\nimport {\n  QandAsection,\n  QandAitem\n} from '../../components/Store/Types'\nimport Dropdown from '../../components/Dropdown'\nimport HorizontalShowcase from '../../components/HorizontalShowcase'\n\n\ntype PathParamsType = {\n  param1: string,\n}\n\ntype State = {\n  currentOpened: number\n}\n\nclass QandA extends React.Component<RouteComponentProps<PathParamsType>, State> {\n  \n  state: State = {\n    currentOpened: 0\n  }\n\n  static contextType = Context\n\n  getCurrentSection = () => {\n    const page = this.context?.contentful?.festivalQandAs?.[0]\n    let currentSectionURL = this.props.location.pathname.replace('/festival/q&a', '').replace('/', '')\n    \n    if (page && currentSectionURL === '') {\n      currentSectionURL = page?.sections?.[0].url\n      this.props.history.replace({ pathname: `/festival/q&a/${currentSectionURL}` })\n    }\n\n    return page?.sections\n      ?.find((section: QandAsection) =>\n        section.url === currentSectionURL)\n  }\n\n  renderLink = (section: QandAsection) =>\n    <Link\n      key={section.url}\n      to={`/festival/q&a/${section.url}`}\n      className='QandA__Link'\n      activeClassName='QandA__Link--active'\n    >\n      {section.name}\n    </Link>\n\n  render = () => {\n    const page = this.context?.contentful?.festivalQandAs?.[0]\n    const currentSection = this.getCurrentSection()\n\n    return !page ? '' :\n      <div className=\"QandA\">\n        <div className='container'>\n          <div className='row'>\n            <div className='col'>\n              <h1 className='h1 mt-s mt-md-m mt-lg-l mb-m mb-md-l mb-lg-xl'>\n                {page.name}\n              </h1>\n            </div>\n          </div>\n        </div>\n        <HorizontalShowcase\n          className='d-block d-lg-none mb-s mb-md-m'\n          items={page?.sections}\n          ItemComp={this.renderLink}\n        />\n        <div className='container'>\n          <div className='row'>\n            <div className='d-none d-lg-flex flex-column col-4 pt-3 align-items-start'>\n              {page?.sections\n                ?.map(this.renderLink)}\n            </div>\n            <div className='col-4 col-md-6 col-lg-8'>\n              {currentSection?.items\n                ?.map((item: QandAitem, index: number) =>\n                  <Dropdown\n                    key={item.title}\n                    spekt\n                    title={<h3 className='h3 mb-0'>{item.title}</h3>}\n                    className='mb-2 mb-md-3'\n                    opened={this.state.currentOpened === index}\n                    toggleOpened={() =>\n                      this.setState({\n                        currentOpened: this.state.currentOpened === index ?\n                          -1\n                          :\n                          index\n                      })}\n                  >\n                    {item.text}\n                  </Dropdown>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n  }\n}\n\n\nexport default withRouter(QandA)","import React from 'react'\n\nimport Link from '../../components/Link'\nimport { Context } from '../../components/Store'\nimport { Person } from '../../components/Store/Types'\nimport FormattedMessage from '../../components/FormattedMessage'\n\n\nclass Accreditation extends React.Component<{}, {}> {\n  \n  static contextType = Context\n\n  render = () => {\n    const page = this.context?.contentful?.accreditations[0]\n\n    return !page ? '' :\n      <div className='Accreditation'>\n        <div className='container'>\n          <div className='row'>\n            <div className='col'>\n              <h1 className='h1 mt-s mt-md-m mt-lg-l mb-m mb-md-l mb-lg-xl'>\n                {page.name}\n              </h1>\n            </div>\n          </div>\n          <div className='row d-flex flex-row justify-content-between'>\n            <div className='col-5'>\n              <div className='p p--xl mb-s mb-md-m mb-lg-l'>\n                {page.desc}\n              </div>\n            </div>\n            <div className='col-4 col-md-5'>\n              <h3 className='h3 mb-2'>\n                {page.contactsTitle}\n              </h3>\n              {page.contacts\n                .map((contact: Person) =>\n                  <div className='p p--xl mb-s mb-md-m mb-lg-l'>\n                    {contact.name} {contact.surname}\n                    <br /><br />\n                    <Link to={`mailto:${contact.email}`}>{contact.email}</Link>\n                    <br />\n                    <Link to={`tel:${contact.phone}`}>{contact.phone}</Link>\n                  </div>\n              )}\n              <h3 className='h3 mb-2'>\n                {page.materialsTitle}\n              </h3>\n              {/* {page.materials\n                .map((material: File) =>\n                  <Link\n                    to={material.file.url}\n                    className='p p--l p--arrow p--arrow--right mb-1 mb-md-2 mb-lg-3'\n                  >\n                    {material?.title}\n                  </Link>\n              )} */}\n              <Link\n                to='https://drive.google.com/drive/folders/1uFbYWruTAqEeDHf6Om-As5FKUQlIz6Pe?usp=sharing '\n                className='p p--l p--arrow p--arrow--right mb-1 mb-md-2 mb-lg-3'\n              >\n                <FormattedMessage id='Festival.pages.Accreditation.presskit' />\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n  }\n}\n\n\nexport default Accreditation","import React from 'react'\n\nimport FormattedMessage from '../../components/FormattedMessage'\nimport Dropdown from '../../components/Dropdown'\nimport { Context } from '../../components/Store'\nimport Link from '../../components/Link'\nimport {\n  Festival,\n  Spekt,\n  Program,\n} from '../../components/Store/Types'\n\n\ninterface FestivalWithPrograms extends Festival {\n  programs: Program[]\n}\n\n\nclass Archive extends React.Component<{}, {}> {\n\n  static contextType = Context\n\n  renderSpekts = (spekts: Spekt[]) =>\n    spekts.map((spekt: Spekt) =>\n      <div className='mb-3'>\n        <p className='p p--l mb-0'>\n          {spekt.name}\n        </p>\n        <p className='p p--xl font-spectral'>\n          {spekt.persons}\n        </p>\n      </div>\n    )\n\n  renderPrograms = (festival: FestivalWithPrograms) =>\n    festival.programs\n      .map((program: Program) => \n        <>\n          <div className='row mb-xxs mb-md-xs'>\n            <div className='col'>\n              <h3 className='h3 mb-0'>\n                {program.name}\n              </h3>\n            </div>\n          </div>\n          <div className='row mb-s mb-md-m'>\n            <div className='col-4 col-md mr-2'>\n              {this.renderSpekts(program.spekts.slice(0, Math.ceil(program.spekts.length / 2)))}\n            </div>\n            <div className='col-4 col-md'>\n              {this.renderSpekts(program.spekts.slice(Math.ceil(program.spekts.length / 2)))}\n            </div>\n          </div>\n        </>\n      )\n\n  render = () => {\n    const spekts = this.context?.contentful?.spekts\n\n    if (!spekts)\n      return ''\n\n    const festivals = this.context?.contentful?.festivals\n      ?.map((festival: Festival) => ({\n        ...festival,\n        programs: (() => {\n          let festivalPrograms: Program[] = []\n\n          spekts\n            .filter((spekt: Spekt) =>\n              spekt?.festival?.id === festival.id)\n            .forEach((spekt: Spekt) => {\n              const programIndex = festivalPrograms\n                .findIndex((program: Program) =>\n                  program.id === spekt?.program?.id)\n\n              programIndex === -1 ?\n                festivalPrograms.push({\n                  ...spekt.program,\n                  spekts: [spekt]\n                })\n                :\n                festivalPrograms = [\n                  ...festivalPrograms.slice(0, programIndex),\n                  {\n                    ...spekt.program,\n                    spekts: [\n                      ...festivalPrograms[programIndex].spekts,\n                      spekt\n                    ]  \n                  },\n                  ...festivalPrograms.slice(programIndex + 1),\n                ]\n            })\n          \n          return festivalPrograms\n        })()\n      }))\n\n    return (\n      <div className=\"Archive\">\n        <div className='container'>\n          <h1 className='h1'>\n            <FormattedMessage id='Festival.pages.Archive.name' />\n          </h1>\n          {festivals\n            .filter((festival: Festival) => festival.year !== 2021)\n            .sort((a: Festival, b: Festival) => a.year - b.year)\n            .map((festival: FestivalWithPrograms, index: number) =>\n              <Dropdown\n                initialOpen={index === 0}\n                title={\n                  <div className='d-flex flex-column flex-md-row'>\n                    <h1 className='h1 h1--xl mb-0'>\n                      {festival.year}\n                    </h1>\n                    <div className='Archive__links'>\n                      {festival.siteLink &&\n                        <Link\n                          // onClick={(e: any) => e?.stopPropagation()}\n                          to={festival.siteLink}\n                          className='Archive__links__item'\n                        >\n                          <FormattedMessage id='Festival.pages.Archive.site' />\n                        </Link>\n                      }\n                      {festival.bookletLink &&\n                        <Link\n                          // onClick={(e: any) => e?.stopPropagation()}\n                          to={festival.bookletLink}\n                          className='Archive__links__item'\n                        >\n                          <FormattedMessage id='Festival.pages.Archive.booklet' />\n                        </Link>\n                      }\n                    </div>\n                  </div>\n                }\n              >\n                <div className='row d-flex flex-column flex-lg-row justify-content-between'>\n                  <div className='col-4 col-md-6 col-lg-5 mb-s mb-md-m p p--xxl'>\n                    {festival.mainDesc}\n                  </div>\n                  <div className='col-4 col-md-6'>\n                    {this.renderPrograms(festival)}\n                  </div>\n                </div>\n                <div className='row'>\n                  {festival?.facts?.map(fact =>\n                    <div className='col-4 col-md-3 col-lg-4 mb-xs mb-md-0'>\n                      <div className='Archive__pink-block'>\n                        <div className='Archive__pink-block__number'>\n                          {fact.number}\n                        </div>\n                        <p className='p p--L'>\n                          {fact.desc}\n                        </p>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </Dropdown>\n          )}\n        </div>\n      </div>\n    )\n  }\n}\n\n\nexport default Archive","import React from 'react'\n\nimport Link from '../../components/Link'\nimport { Context } from '../../components/Store'\nimport FormattedMessage from '../../components/FormattedMessage'\n\n\nclass Contacts extends React.Component<{}, {}> {\n  \n  static contextType = Context\n\n  render = () => {\n    const page = this.context?.contentful?.contactss[0]\n\n    return !page ? '' :\n      <div className=\"Contacts\">\n        <div className='container'>\n          <div className='row'>\n            <div className='col'>\n              <h1 className='h1 mt-s mt-md-m mt-lg-l mb-m mb-md-l mb-lg-xl'>\n                {page.name}\n              </h1>\n            </div>\n          </div>\n          <div className='row'>\n            <div className='col-4 col-md-6 mb-s mb-md-m mb-lg-l'>\n              <h2 className='h2 mb-xs mb-md-m'>\n                {page.supportTitle}\n              </h2>\n              <Link\n                to={`tel:${page.supportPhone}`}\n                className='p p--xxxl d-block'\n              >\n                {page.supportPhone}\n              </Link>\n              <Link\n                to={`mailto:${page.supportEmail}`}\n                className='p p--xxxl d-block'\n              >\n                {page.supportEmail}\n              </Link>\n            </div>\n            <div className='col-4 mb-s mb-md-m mb-lg-l'>\n              <div className='p p--l pt-2'>\n                {page.desc}\n              </div>\n            </div>\n          </div>\n          <div className='delimeter mb-s mb-md-m mb-lg-l' />\n          <div className='row d-flex flex-row flex-wrap'>\n            {page?.emails\n              .map((item: { email: string, title: string, name: string, tel: string }) =>                \n                <div className='col-4 col-lg-6 mb-s mb-md-m mb-lg-l'>\n                  <div className='p p--xxl font-weight-bold mb-2'>\n                    {item.title}\n                  </div>\n                  <div className='p p--l mb-0'>\n                    {item.name}\n                  </div>\n                  <Link\n                    to={`mailto:${item.email}`}\n                    className='p p--l mb-2'\n                  >\n                    {item.email}\n                  </Link>\n                  <br />\n                  <Link\n                    to={`tel:${item.tel}`}\n                    className='p p--l mb-2'\n                  >\n                    {item.tel}\n                  </Link>\n                </div>\n            )}\n          </div>\n          <div className='delimeter mb-s mb-md-m mb-lg-l' />\n          <div className='row'>\n            <div className='col-4 col-md-5 col-xl-4 mb-xxs mb-md-xs'>\n              <div className='p p--xxl font-weight-bold mb-2'>\n                {page.addressTitle}\n              </div>\n              <div className='p p--l'>\n                {page.address}\n              </div>\n            </div>\n            <div className='col-1 col-xl-2 pt-0 pt-lg-1' />\n            <div className='col-4 col-lg-5 col-xl-4'>\n              <h3 className='h3 mb-1 mb-md-xxs mb-lg-xs'>\n                {page.organiserTitle}\n              </h3>\n              <div className='p p--l mb-2 mb-md-xs mb-lg-m'>\n                {page.organiser}\n              </div>\n              <Link\n                to='https://drive.google.com/file/d/1fHCRWr5t_DEUVkrQOFug3i7evZS1GV1r/view'\n                className='p p--l p--arrow p--arrow--right mb-1 mb-md-2 mb-lg-3'\n              >\n                <FormattedMessage id='Festival.pages.Accreditation.details' />\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n  }\n}\n\n\nexport default Contacts","import React from 'react'\n\nimport Link from './Link'\n\nimport FormattedMessage from './FormattedMessage'\nimport LogoWithText from './LogoWithText'\n\n\nclass Error404 extends React.Component {\n\n  render = () =>\n    <div className='Error404'>\n      <div className='Error404__blur Error404__blur--0'>\n        <LogoWithText />\n      </div>\n      <div className='Error404__text'>\n        <div className='Error404__blur Error404__blur--1'>\n          <FormattedMessage id='Error404.line1' />\n        </div>\n        <div className='Error404__blur Error404__blur--2'>\n          <FormattedMessage id='Error404.line2' />\n        </div>\n        <div className='Error404__blur Error404__blur--3'>\n          <FormattedMessage id='Error404.line3' />\n        </div>\n\n        <Link to='/'>\n          <button className='button button--main mt-l pt-0'>\n            <FormattedMessage id='Error404.return' />\n          </button>\n        </Link>\n      </div>\n    </div>\n}\n\n\nexport default Error404","import React from 'react'\n\nimport { withRouter } from 'react-router-dom'\nimport { RouteComponentProps } from 'react-router'\nimport _ from 'lodash'\nimport { format } from 'date-fns'\nimport { ru, enUS } from 'date-fns/locale'\nimport endOfYesterday from 'date-fns/endOfYesterday'\nimport isAfter from 'date-fns/isAfter'\n\nimport { Context } from '../components/Store'\nimport FormattedMessage from '../components/FormattedMessage'\nimport {\n  Spekt as SpektType,\n  Sponsor,\n  MappedShow,\n  Place\n} from '../components/Store/Types'\nimport {\n  Program,\n  Online,\n  Offline,\n  Age\n} from '../components/buttons'\nimport Dropdown from '../components/Dropdown'\nimport Error404 from '../components/Error404'\nimport Link from '../components/Link'\n\nimport camelize from '../utils/camelize'\nimport radarioProps from '../utils/radarioProps'\nimport { getMessage } from '../components/Store/locale'\nimport { FestivalPassSpekt } from '../components/FestivalPass'\n\n\ntype Props = RouteComponentProps<{\n  param1: string\n}>\n\ntype State = {\n  currentOpened: number\n  showAllShows: boolean\n}\n\n\nconst maxShownShows = 5\n\n\nclass Spekt extends React.Component<Props, State> {\n\n  state: State = {\n    currentOpened: 0,\n    showAllShows: false,\n  }\n\n  static contextType = Context\n  scheduleRef: any = React.createRef()\n\n  render = () => {\n    if (!this?.context?.ready)\n      return ''\n\n    let spekt = this.context?.contentful?.spekts\n      ?.find((spekt: SpektType) =>\n        spekt.link?.replace?.('/', '') === this.props.location.pathname.replace('/spekt/', '').replace('/', ''))\n\n    if (!spekt)\n      return <Error404 />\n      \n    spekt = {\n      ...spekt,\n      shows: _.values(this?.context?.contentful?.mappedDays || {})\n        .map((day: MappedShow[]) =>\n          day.filter((show: MappedShow) =>\n            show.name === spekt.name// && isAfter(show.dateObj, endOfYesterday())\n          ))\n        .filter((day: MappedShow[]) =>\n          day.length > 0)\n        .reduce((a: MappedShow[], b: MappedShow[]) => [...a, ...b], [])\n    }\n\n    console.log(spekt)\n\n    return (\n      <div className={`Spekt ${spekt.link === 'laboratoriagranits' && 'opened-header'}`}>\n        <div className='container'>\n\n          <div className='row mt-s d-flex flex-column flex-lg-row mb-s mb-md-m mb-lg-l'>\n            <div className='col-4 col-md-6 col-lg-8 order-lg-2'>\n              <div className={`Spekt__cover-container ${spekt?.videoCover && 'Spekt__cover-container--video'}`}>\n                {spekt?.videoCover ?\n                  <iframe\n                    src={spekt?.videoCover}\n                    className='Spekt__cover-container__video'\n                    frameBorder=\"0\"\n                    allowFullScreen\n                  />\n                  :\n                  <img\n                    src={`${spekt?.cover?.file?.url}?fit=fill&w=860&h=520`}\n                    alt={spekt?.cover?.file?.fileName}\n                    className='w-100 h-auto'\n                  />\n                }\n              </div>\n            </div>\n\n            <div className='col-4 col-md-6 col-lg-4 mt-s d-flex flex-column'>\n              <h1 className='h1 mb-1'>\n                {spekt?.name}\n              </h1>\n              <div className='h1 font-weight-normal font-spectral mb-xs'>\n                {spekt?.persons}\n              </div>\n              <div className='d-flex flex-row flex-wrap'>\n                {spekt?.program?.name &&\n                  <Program\n                    text={spekt?.program?.name}\n                    className='mr-2 mb-2'\n                  />\n                }\n                {spekt?.online &&\n                  <Online className='mr-2 mb-2' />\n                }\n                {spekt?.offline &&\n                  <Offline className='mr-2 mb-2' />\n                }\n                {spekt?.age &&\n                  <Age\n                    text={spekt?.age}\n                    className='mr-2 mb-2'\n                  />\n                }\n              </div>\n            </div>\n\n            {spekt.shows.length > 0 &&\n              <div className='col-4 col-md-6 mt-xxs d-block d-lg-none'>\n                <div\n                  className='button button--main'\n                  onClick={() => {\n                    this.setState({ currentOpened: 0 })\n                    setTimeout(() => window.scroll({\n                      top: this.scheduleRef?.current?.getBoundingClientRect()?.top + window.scrollY - 200,\n                      behavior: 'smooth'\n                    }), 250)\n                  }}\n                >\n                  <FormattedMessage id='Spekt.buyAnchor' />\n                </div>\n              </div>\n            }\n          </div>\n\n\n          <div className='row mb-m mb-md-l mb-lg-xl'>\n            <div className='col-4 col-md-6 col-lg-4 mb-m mb-md-l'>\n              <div className='row d-flex flex-row flex-lg-column'>\n                {spekt?.length &&\n                  <div className='col-4 col-md-2 col-lg-12'>\n                    <FormattedMessage\n                      id='Spekt.length'\n                      className='p p--s'\n                    />\n                    <h3 className='h3 h3--l mb-s'>\n                      {spekt?.length}\n                    </h3>\n                  </div>\n                }\n                <div className='col-4 col-md-2 col-lg-8'>\n                  <FormattedMessage\n                    id='Spekt.stage'\n                    className='p p--s'\n                  />\n                  {spekt?.ticketsAndSchedule?.tickets?.map((stage: Place, index: number) =>\n                    <h3\n                      key={index}\n                      className={`h3 h3--l mb-${spekt.ticketsAndSchedule.tickets.length > index + 1 ? '4' : 's'}`}\n                    >\n                      {this.context.locale === 'rus' ? stage.venue : stage.venueEn}\n                    </h3>\n                  )}\n                </div>\n                {spekt?.credits &&\n                  <div className='col-4 col-md-2 col-lg-12'>\n                    <FormattedMessage\n                      id='Spekt.credits'\n                      className='p p--s'\n                    />\n                    <h3 className='h3 h3--l mb-s'>\n                      {spekt?.credits}\n                    </h3>\n                  </div>\n                }\n                {spekt?.sponsors?.length > 0 &&\n                  <div className='col-4 col-md-2 col-lg-12 d-flex flex-column'>\n                    {/* <FormattedMessage\n                      id='Spekt.sponsor'\n                      className='p p--s'\n                    /> */}\n                    {spekt?.sponsors?.map((sponsor: Sponsor) =>\n                      <img\n                        key={sponsor?.logo?.[0].file?.url}\n                        src={sponsor?.logo?.[0].file?.url}\n                        alt={sponsor?.logo?.[0].file?.fileName}\n                        className='w-50 w-md-100 w-lg-50 h-auto'\n                      />\n                    )}\n                  </div>\n                }\n              </div>\n            </div>\n\n            <div className='col-4 col-md-6 col-lg-8'>\n              <div className='p p--l mb-m mb-lg-l'>\n                {spekt.mainDesc}\n              </div>\n\n              {spekt.showDiscount &&\n                <FestivalPassSpekt />}\n\n              {spekt.shows.length > 0 &&\n                <>\n                  <div ref={this.scheduleRef} />\n                  <Dropdown\n                    spekt\n                    className='mb-2 mb-md-3'\n                    title={\n                      <FormattedMessage\n                        id='Spekt.buy'\n                        className='h3 mb-0'\n                      />}\n                    opened={this.state.currentOpened === 0}\n                    toggleOpened={() =>\n                      this.setState({\n                        currentOpened: this.state.currentOpened === 0 ?\n                          -1\n                          :\n                          0\n                      })}\n                  >\n                    {spekt.shows\n                      .filter((show: MappedShow, index: number) =>\n                        this.state.showAllShows || index < maxShownShows)\n                      ?.map((show: MappedShow) =>\n                        <div\n                          key={show.id}\n                          className='Spekt__show'\n                        >\n                          <div className='Spekt__show__date-time'>\n                            {(() => {\n                              if (this.context.locale === 'rus')\n                                if (show.datetimeCust)\n                                  return show.datetimeCust\n                              else\n                                if (show.datetimeCustEn)\n                                  return show.datetimeCustEn\n\n                              const dateTime = format(\n                                show.dateObj,\n                                'dd.MM / iiii / HH:mm ',\n                                { locale: this.context.locale === 'rus' ? ru : enUS })\n                              const dateTimeSplitted = dateTime.split(' / ')\n\n                              return `${dateTimeSplitted[0]} / ${camelize(dateTimeSplitted[1])} / ${dateTimeSplitted[2]} ${getMessage(this, 'Schedule.msk')}`\n                            })()}\n                            {this.context.locale === 'rus' ?\n                              show.disclaimer ? <div className='w-100 p p--s my-2'>{show.disclaimer}</div> : ''\n                              :\n                              show.disclaimerEn ? <div className='w-100 p p--s my-2'>{show.disclaimerEn}</div> : ''\n                            }\n                          </div>\n                          <div className='Spekt__show__line'>\n                            {show.offline ? <Offline /> : <Online />}\n                          </div>\n                          <Link\n                            className='Spekt__show__buy'\n                            {...radarioProps(show)}\n                          >\n                            {this.context.locale === 'rus' ?\n                              show.buttonNameCust || <FormattedMessage id='Schedule.buy' />\n                              :\n                              show.buttonNameCustEn || <FormattedMessage id='Schedule.buy' />\n                            }\n                          </Link>\n                        </div>\n                      )\n                    }\n                    {(!this.state.showAllShows && spekt.shows.length > maxShownShows) &&\n                      <div\n                        className='p p--m cursor-pointer mt-3'\n                        onClick={() => this.setState({ showAllShows: true })}\n                      >\n                        <FormattedMessage id='Spekt.showAllShows' />\n                      </div>}\n                  </Dropdown>\n                </>\n              }\n\n              {['howToOnline', 'howToOffline', 'performanceTeam', 'instructions']\n                .map((dropdown, index) =>\n                  !spekt[dropdown] ?\n                    ''\n                    :\n                    <Dropdown\n                      key={dropdown}\n                      spekt\n                      className='mb-2 mb-md-3'\n                      title={\n                        <FormattedMessage\n                          id={`Spekt.${dropdown}`}\n                          className='h3 mb-0'\n                        />}\n                      opened={this.state.currentOpened === index + 1}\n                      toggleOpened={() =>\n                        this.setState({\n                          currentOpened: this.state.currentOpened === index + 1 ?\n                            -1\n                            :\n                            index + 1\n                        })}\n                    >\n                      <div className='p p--l'>\n                        {spekt[dropdown]}\n                      </div>\n                    </Dropdown>\n              )}\n            </div>\n          </div>\n\n        </div>\n      </div>\n    )\n  }\n}\n\n\nexport default withRouter(Spekt)","import React from 'react'\n\nimport ResizeObserver from 'resize-observer-polyfill'\n\nimport FormattedMessage from './FormattedMessage'\nimport Link from './Link'\nimport { RichTextNode } from './Store/Types/contentfulTypes'\n\n\ntype Props = {\n  // children: React.ReactElement<RichTextNode>[]\n  children: any\n  className?: string\n  initialOpen?: boolean\n  additionalContent: JSX.Element\n  link: string | undefined\n  shortDesc: JSX.Element\n}\n\nclass TextDropdown extends React.Component<Props, {}> {\n  state = {\n    opened: this.props.initialOpen || false,\n    contentFullHeight: 0,\n    contentPreviewHeight: 0,\n  }\n\n  contentFullRef: any = React.createRef()\n  contentPreviewRef: any = React.createRef()\n  resizeObsFull: any\n  resizeObsPreview: any\n\n  componentDidMount = () => {\n    this.resizeObsFull = new ResizeObserver(\n      this.updateContentFullHeight.bind(this))\n        .observe(this.contentFullRef.current)\n    this.resizeObsPreview = new ResizeObserver(\n      this.updateContentPreviewHeight.bind(this))\n        .observe(this.contentPreviewRef.current)\n  }\n\n  updateContentFullHeight = () =>\n    this.setState({\n      contentFullHeight: this.contentFullRef?.current?.clientHeight\n    })\n  updateContentPreviewHeight = () =>\n    this.setState({\n      contentPreviewHeight: this.contentPreviewRef?.current?.clientHeight\n    })\n\n  cropChildren = () =>\n    <>\n      {this.props?.shortDesc}\n    </>\n\n  toggleOpened = () =>\n    this.setState({ opened: !this.state.opened })\n\n  render = () =>\n    <div className={`\n      TextDropdown\n      ${this.state.opened && \"TextDropdown--opened\"}\n      ${this.props.className}\n    `}>\n      <div className=\"TextDropdown__content\">\n        <div\n          className='TextDropdown__content__container'\n          style={{\n            height: this.state.opened ?\n              this.state.contentFullHeight\n              :\n              this.state.contentPreviewHeight\n          }}\n        >\n          <div\n            className=\"TextDropdown__content__container__full\"\n            ref={this.contentFullRef}\n          >\n            {this.props.children}\n          </div>\n          <div\n            className=\"TextDropdown__content__container__preview\"\n            ref={this.contentPreviewRef}\n          >\n            {this.cropChildren()}\n          </div>\n        </div>\n        {this.props.link &&\n          <Link\n            className={`\n              TextDropdown__toggle\n              p--arrow\n              p--arrow--${this.state.opened ? 'left' : 'right'}\n            `}\n            // onClick={() => this.toggleOpened()}\n            to={this.props.link}\n          >\n            <FormattedMessage id={this.state.opened ? 'Program.hideText' : 'Program.readText'} />\n          </Link>\n        }\n      </div>\n      <div className='TextDropdown__additional-content'>\n        {this.props.additionalContent}\n      </div>\n    </div>\n}\n\n\nexport default TextDropdown","import React from 'react'\n\nimport { Context } from '../../components/Store'\nimport {\n  Person,\n  Program,\n  Spekt,\n} from '../../components/Store/Types'\nimport TextDropdown from '../../components/TextDropdown'\nimport CuratorsAvatars from '../../components/CuratorsAvatars'\nimport SpektCard from '../../components/Views/Cards/SpektCard'\nimport Img from '../../components/Img'\n\n\ntype Props = {\n  programId: string\n  text?: boolean\n  text2?: boolean\n}\n\n\nclass Template extends React.Component<Props, {}> {\n  \n  static contextType = Context\n\n  renderText = (program: Program, opened: boolean, opened2: boolean) =>\n    <>\n      {!opened2 &&\n        <TextDropdown\n          initialOpen={opened}\n          link={program.link === 'friends' ?\n            undefined\n            :\n            opened ? `/program/${program.link}` : `/program/${program.link}/text`}\n          className={program.shortDesc2 ? '' : 'mb-s mb-md-l mb-lg-xl'}\n          shortDesc={program.shortDesc}\n          additionalContent={\n            <div className='d-flex flex-column flex-md-row flex-lg-column flex-xl-row mb-s mb-lg-0'>\n              <CuratorsAvatars\n                S\n                curators={program?.curators}\n                className='mr-2 mb-2'\n              />\n              <div className='d-flex flex-column'>\n                <h3 className='h3'>\n                  {program?.curators\n                    ?.map((curator: Person) =>\n                      <>\n                        {curator.name}&nbsp;{curator.surname}\n                      </>)\n                    ?.reduce((a: JSX.Element, b: JSX.Element, index: Number) =>\n                      <>\n                        {a}{index === (program?.curators?.length || 0) - 1 ? '  ' : ', '}{b}\n                      </>)}\n                </h3>\n                <div className='p p--xl font-spectral'>\n                  {program?.curatorTitle}\n                </div>\n              </div>\n            </div>\n          }\n        >\n          {program?.mainDesc}\n        </TextDropdown>\n      }\n\n      {(program.shortDesc2 && !opened) &&\n        <TextDropdown\n          initialOpen={opened2}\n          link={opened2 ? `/program/${program.link}` : `/program/${program.link}/text2`}\n          className='mb-s mb-md-l mb-lg-xl'\n          shortDesc={program.shortDesc2}\n          additionalContent={\n            <div className='d-flex flex-column flex-md-row flex-lg-column flex-xl-row mb-s mb-lg-0'>\n              <CuratorsAvatars\n                S\n                curators={program?.curators2}\n                className='mr-2 mb-2'\n              />\n              <div className='d-flex flex-column'>\n                <h3 className='h3'>\n                  {program?.curators2\n                    ?.map((curator: Person) =>\n                      <>\n                        {curator.name}&nbsp;{curator.surname}\n                      </>)\n                    ?.reduce((a: JSX.Element, b: JSX.Element, index: Number) =>\n                      <>\n                        {a}{index === (program?.curators?.length || 0) - 1 ? '  ' : ', '}{b}\n                      </>)}\n                </h3>\n                <div className='p p--xl font-spectral'>\n                  {program?.curatorTitle2}\n                </div>\n              </div>\n            </div>\n          }\n        >\n          {program?.mainDesc2}\n        </TextDropdown>\n      }\n    </>\n\n  render = () => {\n    const program: Program = this.context?.contentful?.programs\n      ?.find((program: Program) => program.id === this.props.programId)\n    const homepage = this?.context?.contentful?.homepages?.[0]\n\n    return (!program || !homepage) ? '' :\n      this.props.text ?\n        <div className=\"Program\">\n          <div className='container'>\n            <div className='row'>\n              <div className='col'>\n                {this.renderText(program, true, false)}\n              </div>\n            </div>\n          </div>\n        </div>\n        :\n        this.props.text2 ?\n          <div className=\"Program\">\n            <div className='container'>\n              <div className='row'>\n                <div className='col'>\n                  {this.renderText(program, false, true)}\n                </div>\n              </div>\n            </div>\n          </div>\n          :\n          <div className=\"Program\">\n            <div className='container'>\n              <div className='row'>\n                <div className='col-4 col-md-6 col-lg-12'>\n                  <h1 className='h1 mt-s mt-md-m mt-lg-l mb-m mb-md-l mb-lg-xl'>\n                    {program?.name}\n                  </h1>\n                </div>\n              </div>\n\n              {this.renderText(program, false, false)}\n\n              {this.props.programId === '7fOwCkT7nOXh3C81toLoSs' &&\n                <>\n                  <div className='container'>\n                    <div className='row'>\n                      <div className='col-4 col-md-5 col-lg-8'>\n                        <div className='p p--xl'>\n                          {homepage.sponsorsTypesLines?.[1]?.name}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className='container mb-s mb-md-m'>\n                    <div className='row d-flex flex-row flex-wrap'>\n                      <div className='col-2 col-md-3 col-lg-4'>\n                        {homepage.sponsorsTypesLines?.[1]?.sponsors?.[0] &&\n                          <Img\n                            file={homepage.sponsorsTypesLines?.[1]?.sponsors?.[0].logo[0]}\n                            className='w-100'\n                            noCrop\n                          />\n                        }\n                      </div>\n                    </div>\n                  </div>\n                </>\n              }\n\n              <div className='row d-flex flex-row flex-wrap'>\n                {homepage[program.link]\n                  ?.map((spekt: Spekt) =>\n                    <div className='Program__SpektCard-delimeter'>\n                      <SpektCard\n                        {...spekt}\n                        avatarsL={this.props.programId === '6OfzgvjCzzT1xhlwDH2AfQ'}\n                        className='SpektCard--Program'\n                      />\n                    </div>\n                )}\n              </div>\n            </div>\n          </div>\n  }\n}\n\n\nexport default Template","import React from 'react'\n\nimport { RouteComponentProps, withRouter } from 'react-router-dom'\n\n\ntype Props = {\n  to: string\n} & RouteComponentProps<{\n  param1: string,\n}>\n\n\n\nclass Redirect extends React.Component<Props> {\n\n  componentDidMount = () => {\n    window.open(this.props.to, \"_blank\")\n    this.props.history.goBack()\n  }\n  \n  render = () =>\n    <div />\n}\n\n\nexport default withRouter(Redirect)","import React from 'react'\n\nimport Home from '../pages/Home'\nimport Login from '../pages/Login'\n\nimport Admin from '../pages/User/Admin'\nimport Tickets from '../pages/User/Tickets'\nimport Settings from '../pages/User/Settings'\nimport Schedule from '../pages/Schedule'\nimport Projects from '../pages/Festival/Projects'\nimport Reviews from '../pages/Festival/Reviews'\nimport About from '../pages/Festival/About'\nimport QandA from '../pages/Festival/QandA'\nimport Accreditation from '../pages/Festival/Accreditation'\nimport Archive from '../pages/Festival/Archive'\nimport Contacts from '../pages/Festival/Contacts'\nimport Spekt from '../pages/Spekt'\nimport Template from '../pages/Program/Template'\nimport Redirect from '../components/Redirect'\nimport Error404 from '../components/Error404'\n\n\ntype Route = {\n  to: string\n  Comp: any\n  exact?: boolean\n}\n\n\nconst routes: Route[] = [\n  {\n    exact: true,\n    to: \"/\",\n    Comp: <Home />\n  },\n  {\n    to: \"/login\",\n    Comp: <Login />\n  },\n  \n  {\n    to: \"/user/tickets\",\n    Comp: <Tickets />\n  },\n  {\n    to: \"/user/settings\",\n    Comp: <Settings />\n  },\n  {\n    to: \"/user/admin\",\n    Comp: <Admin />\n  },\n\n  {\n    to: \"/schedule\",\n    Comp: <Schedule />\n  },\n\n  {\n    to: \"/festival/about/projects\",\n    Comp: <Projects />\n  },\n  {\n    to: \"/festival/about/reviews\",\n    Comp: <Reviews />\n  },\n  {\n    to: \"/festival/about\",\n    Comp: <About />\n  },\n  {\n    to: \"/festival/Q&A\",\n    Comp: <QandA />\n  },\n  {\n    to: \"/festival/accreditation\",\n    Comp: <Accreditation />\n  },\n  {\n    to: \"/festival/archive\",\n    Comp: <Archive />\n  },\n  {\n    to: \"/festival/contacts\",\n    Comp: <Contacts />\n  },\n\n  {\n    to: '/spekt',\n    Comp: <Spekt />\n  },\n\n  {\n    exact: true,\n    to: '/program/main',\n    Comp: <Template programId='7fOwCkT7nOXh3C81toLoSs' />\n  },\n  {\n    exact: true,\n    to: '/program/open',\n    Comp: <Template programId='4qgsLo90by1TfShZwdyNhw' />\n  },\n  {\n    exact: true,\n    to: '/program/educational',\n    Comp: <Template programId='6OfzgvjCzzT1xhlwDH2AfQ' />\n  },\n  {\n    exact: true,\n    to: '/program/friends',\n    Comp: <Template programId='4NkckPWZ7vHmJtzrwwoERP' />\n  },\n  {\n    to: '/program/main/text',\n    Comp: <Template text programId='7fOwCkT7nOXh3C81toLoSs' />\n  },\n  {\n    to: '/program/main/text2',\n    Comp: <Template text2 programId='7fOwCkT7nOXh3C81toLoSs' />\n  },\n  {\n    to: '/program/open/text',\n    Comp: <Template text programId='4qgsLo90by1TfShZwdyNhw' />\n  },\n  {\n    to: '/program/educational/text',\n    Comp: <Template text programId='6OfzgvjCzzT1xhlwDH2AfQ' />\n  },\n\n  {\n    to: \"/privacy\",\n    Comp: <Redirect to='https://special.tochkadostupa.spb.ru/policy' />\n  },\n  {\n    to: \"/details\",\n    Comp: <Redirect to='https://drive.google.com/file/d/1fHCRWr5t_DEUVkrQOFug3i7evZS1GV1r/view' />\n  },\n  {\n    to: \"/volunteers\",\n    Comp: <Redirect to='https://special.tochkadostupa.spb.ru/opencall/volunteer' />\n  },\n\n  {\n    to: \"/\",\n    Comp: <Error404 />\n  },\n]\n\n\nexport default routes","import React from 'react'\n\nimport { withRouter } from 'react-router-dom'\nimport { RouteComponentProps } from 'react-router'\n\n\ntype Props = {\n  param1: string\n  location: any\n}\n\n\nclass ScrollToTop extends React.Component<RouteComponentProps<Props>> {\n\n  componentDidUpdate = (prevProps: { location: any }) =>\n    this.props.location !== prevProps.location &&\n      window.scrollTo(0, 0)\n\n  render = () =>\n    this.props.children\n}\n\n\nexport default withRouter(ScrollToTop)","import React from 'react'\n\nimport { Context } from './Store'\n\n\nclass Loader extends React.Component {\n\n  state = {\n    transparent: false,\n    hidden: false\n  }\n\n  static contextType = Context\n\n  componentDidMount = () =>\n    this?.context?.registerInitializeCallback(() => this.hide())\n\n  hide = () => {\n    this.setState({ transparent: true })\n    setTimeout(\n      () => this.setState({ hidden: true })\n      , 900)\n  }\n\n  render = () =>\n    <div className={`\n      Loader\n      ${this.state.transparent && 'Loader--transparent'}\n      ${this.state.hidden && 'd-none'}\n    `}>\n      <div className='Loader__squircles'>\n        <div className='Loader__squircles__item Loader__squircles__item--0' />\n        <div className='Loader__squircles__item Loader__squircles__item--1' />\n        <div className='Loader__squircles__item Loader__squircles__item--2' />\n        <div className='Loader__squircles__item Loader__squircles__item--3' />\n        <div className='Loader__squircles__item Loader__squircles__item--4' />\n        <div className='Loader__squircles__item Loader__squircles__item--5' />\n        <div className='Loader__squircles__item Loader__squircles__item--6' />\n      </div>\n    </div>\n}\n\n\nexport default Loader","import React from 'react'\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\"\n\nimport { Provider } from './components/Store'\nimport Helmet from './components/Helmet'\nimport Header from './components/Header'\nimport Footer from './components/Footer'\nimport routes from './utils/routes'\nimport ScrollToTop from './components/ScrollToTop'\nimport Loader from './components/Loader'\n\nimport './styles/index.sass'\n\n\nclass App extends React.Component {\n  \n  render = () =>\n    <Router>\n      <Provider>\n      <Loader />\n        <div className=\"App\">\n          <ScrollToTop>\n            <Helmet />\n            <Header />\n            <div className=\"content\">\n              <Switch>\n                {routes.map(route =>\n                  <Route\n                    key={route.to}\n                    path={route.to}\n                    exact={route.exact}\n                  >\n                    {route.Comp}\n                  </Route>\n                )}\n              </Switch>\n            </div>\n            <Footer />\n          </ScrollToTop>\n        </div>\n      </Provider>\n    </Router>\n}\n\n\nexport default App\n","import 'react-app-polyfill/ie11'\nimport 'react-app-polyfill/stable'\nimport React from 'react'\n// import ReactDOM from 'react-dom'\nimport { render } from 'react-snapshot'\n\nimport App from './App'\n\n\n// ReactDOM.render(\nrender(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)"],"sourceRoot":""}